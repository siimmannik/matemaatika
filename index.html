<!DOCTYPE html>
<html lang="et">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>7. klassi matemaatika sisseastumiseksami harjutused</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap');

    :root {
      /* Neutral & Blue Palette (Less Pink) */
      --bg: #f3f4f6;
      /* Cool Gray 100 */
      --card: #ffffff;
      --primary: #4f46e5;
      /* Indigo 600 */
      --primary-light: #e0e7ff;
      /* Indigo 100 */
      --accent-green: #10b981;
      /* Emerald 500 */
      --accent-green-light: #d1fae5;
      --accent-orange: #f59e0b;
      /* Amber 500 */
      --accent-orange-light: #fef3c7;
      --accent-rose: #f43f5e;
      /* Rose 500 (kept for errors only) */
      --accent-rose-light: #ffe4e6;
      --text: #1f2937;
      /* Gray 800 */
      --text-light: #6b7280;
      /* Gray 500 */
      --border: #e5e7eb;
      --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
      --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
      --radius: 16px;
      /* Slightly less round for cleaner look */
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Nunito', sans-serif;
      background-color: var(--bg);
      background-image: radial-gradient(#e5e7eb 0.5px, transparent 0.5px), radial-gradient(#e5e7eb 0.5px, var(--bg) 0.5px);
      background-size: 20px 20px;
      background-position: 0 0, 10px 10px;
      color: var(--text);
      line-height: 1.6;
      padding-bottom: 80px;
      /* font-variant-numeric removed ‚Äî Unicode fractions already formatted */
    }

    .container {
      max-width: 900px;
      margin: 0 auto;
      padding: 20px;
      position: relative;
      z-index: 10;
    }

    /* Header */
    header {
      text-align: center;
      padding: 60px 20px 40px;
      position: relative;
    }

    .mascot-main {
      width: 180px;
      filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.15));
      transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
      cursor: pointer;
    }

    .mascot-main:hover {
      transform: scale(1.1) rotate(5deg);
    }

    .speech-bubble {
      background: white;
      padding: 12px 24px;
      border-radius: 20px;
      position: absolute;
      top: 40px;
      left: 50%;
      transform: translateX(40px) rotate(5deg);
      box-shadow: var(--shadow-sm);
      font-weight: 700;
      color: var(--primary);
      animation: float 3s ease-in-out infinite;
    }

    .speech-bubble::after {
      content: '';
      position: absolute;
      bottom: -8px;
      left: 20px;
      border-width: 8px 8px 0;
      border-style: solid;
      border-color: white transparent;
    }

    header h1 {
      font-size: 2rem;
      font-weight: 800;
      color: var(--primary);
      margin: 10px 0;
      text-shadow: 2px 2px 0px rgba(255, 255, 255, 0.5);
    }

    .subtitle {
      font-size: 1.05rem;
      color: var(--text-light);
      font-weight: 600;
      margin-top: 0.25rem;
    }

    /* Shared Card Styles */
    .card {
      background: var(--card);
      border-radius: var(--radius);
      padding: 24px;
      margin-bottom: 24px;
      box-shadow: var(--shadow-md);
      border: 2px solid white;
      transition: transform 0.2s, box-shadow 0.2s;
    }

    .card:hover {
      transform: translateY(-2px);
      box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0,
          0, 0, 0.04);
    }

    /* Dashboard Grid */
    .dashboard {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
      margin-bottom: 30px;
    }

    .stat-card {
      background: white;
      padding: 16px;
      border-radius: 16px;
      text-align: center;
      box-shadow: var(--shadow-sm);
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      /* Distribute vertical space */
      align-items: center;
      height: 100%;
      min-height: 110px;
      /* Ensure visual balance */
    }

    .stat-label {
      font-size: 0.75rem;
      font-weight: 700;
      color: var(--text-light);
      text-transform: uppercase;
      letter-spacing: 1.5px;
      margin-bottom: 6px;
    }

    .stat-value {
      font-size: 1.6rem;
      font-weight: 800;
      color: var(--primary);
      line-height: 1;
      margin-bottom: 4px;
    }

    .stat-sub {
      font-size: 0.85rem;
      font-weight: 600;
      color: var(--text);
    }


    /* Progress Bar (Juicy) */
    .progress-card {
      grid-column: span 3;
      display: flex;
      align-items: center;
      gap: 20px;
      padding: 20px 30px;
      text-align:
        left;
      flex-direction: row;
      justify-content: space-between;
    }

    .progress-info {
      flex: 1;
    }

    .progress-track {
      background: #f3f4f6;
      height: 24px;
      border-radius: 99px;
      overflow: hidden;
      margin-top: 8px;
      box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.05);
    }

    .progress-fill {
      background: linear-gradient(90deg, var(--accent-green), #6ee7b7);
      height: 100%;
      border-radius: 99px;
      width: 0%;
      transition: width 1s cubic-bezier(0.34, 1.56, 0.64, 1);
      position: relative;
    }

    .progress-fill::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
      animation: shimmer 2s infinite;
    }

    /* Navigation */
    .nav-container {
      position: sticky;
      top: 20px;
      z-index: 100;
      margin-bottom: 40px;
      background: rgba(255, 255, 255, 0.9);
      padding: 8px;
      border-radius: 99px;
      box-shadow: var(--shadow-sm);
      backdrop-filter: blur(10px);
      display: flex;
      justify-content: center;
      gap: 8px;
      border: 1px solid rgba(255, 255, 255, 0.5);
    }

    .nav-tab {
      padding: 10px 24px;
      border-radius: 99px;
      font-weight: 700;
      font-size: 0.95rem;
      color: var(--text-light);
      cursor: pointer;
      transition: all 0.2s;
      border: 2px solid transparent;
    }

    .nav-tab:hover {
      color: var(--primary);
      background: var(--primary-light);
    }

    .nav-tab.active {
      background: var(--primary);
      color: white;
      box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
      transform: scale(1.05);
    }

    /* Section Styles */
    .section {
      display: none;
      animation: fadeIn 0.4s ease-out;
    }

    .section.active {
      display: block;
    }

    .section-header {
      background: linear-gradient(135deg, var(--primary-light) 0%, #c7d2fe 100%);
      color: var(--primary);
      padding: 24px 30px;
      border-radius: var(--radius);
      margin-bottom: 24px;
      display: flex;
      align-items: center;
      gap: 20px;
      box-shadow: var(--shadow-sm);
      border: 1px solid rgba(255, 255, 255, 0.5);
    }

    .section-header h2 {
      font-size: 1.5rem;
      font-weight: 800;
      margin-bottom: 0.25rem;
    }

    .section-header p {
      font-size: 1rem;
      opacity: 0.9;
      margin: 0;
    }

    .section-icon {
      width: 60px;
      height: 60px;
      object-fit: contain;
      filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1));
    }

    /* Interactive Elements */
    button {
      font-family: inherit;
    }

    /* Theory */
    .theory-card {
      border-left: 6px solid var(--primary);
    }

    .theory-toggle {
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: white;
      border: 2px solid var(--border);
      border-radius: 12px;
      font-size: 1rem;
      font-weight: 700;
      color: var(--text);
      cursor: pointer;
      padding: 16px 20px;
      transition: all 0.2s;
      box-shadow: var(--shadow-sm);
    }

    .theory-toggle:hover {
      border-color: var(--primary);
      background: var(--primary-light);
      transform: translateY(-1px);
    }

    /* Quiz */
    .quiz-card {
      border: 2px dashed var(--accent-orange);
      background: #fffbeb;
    }

    .quiz-opt {
      background: white;
      border: 2px solid var(--border);
      border-radius: 16px;
      padding: 16px;
      margin-bottom: 10px;
      cursor: pointer;
      transition: all 0.2s;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .quiz-opt:hover {
      border-color: var(--primary);
      transform: translateX(5px);
    }

    .quiz-opt.correct {
      border-color: var(--accent-green);
      background: var(--accent-green-light);
      color: #065f46;
    }

    .quiz-opt.wrong {
      border-color: var(--accent-rose);
      background: var(--accent-rose-light);
      color: #9f1239;
    }

    /* Exercises */
    .exercise-number {
      min-width: 40px;
      width: 40px;
      height: 40px;
      border-radius: 12px;
      background: var(--primary);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 800;
      font-size: 1.2rem;
      box-shadow: 0 4px 6px rgba(139, 92, 246, 0.3);
      flex-shrink: 0;
    }

    /* Animations */
    @keyframes float {

      0%,
      100% {
        transform: translateY(0) rotate(5deg);
      }

      50% {
        transform: translateY(-10px) rotate(5deg);
      }
    }

    @keyframes shimmer {
      0% {
        transform: translateX(-100%);
      }

      100% {
        transform: translateX(100%);
      }
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Responsive */
    @media (max-width: 768px) {
      .dashboard {
        grid-template-columns: 1fr;
      }

      .progress-card,
      .paw-trail-card {
        grid-column: span 1;
        flex-direction: column;
        text-align: center;
      }

      .nav-container {
        overflow-x: auto;
        justify-content: flex-start;
        padding: 10px 20px;
        border-radius: 0;
        top: 0;
        margin:
          0 -20px 30px;
        width: calc(100% + 40px);
      }

      .section-header {
        flex-direction: column;
        text-align: center;
      }
    }

    /* Missing Component Styles */
    .theory-body {
      display: none;
      margin-top: 16px;
      padding-top: 16px;
      border-top: 2px solid var(--border);
      animation: fadeIn 0.3s ease-out;
    }

    .theory-inner {
      display: flex;
      flex-direction: column;
      gap: 14px;
    }

    .theory-inner h4 {
      font-size: 1rem;
      font-weight: 800;
      color: var(--primary);
      margin-top: 6px;
      margin-bottom: -4px;
      padding-bottom: 4px;
      border-bottom: 2px solid var(--border);
    }

    .rule {
      background: white;
      border-left: 4px solid var(--accent-orange);
      padding: 18px 20px;
      border-radius: 8px;
      box-shadow: var(--shadow-sm);
      line-height: 1.8;
      font-size: 0.95rem;
    }

    .rule strong {
      display: block;
      font-size: 0.95rem;
      color: var(--text);
      margin-bottom: 4px;
    }

    .rule br {
      display: block;
      content: "";
      margin-top: 6px;
    }

    .green-rule {
      border-left-color: var(--accent-green);
      background: var(--accent-green-light);
    }

    .purple-rule {
      border-left-color: #8b5cf6;
      background: #f5f3ff;
    }

    .orange-rule {
      border-left-color: var(--accent-orange);
      background: var(--accent-orange-light);
    }

    .fun-fact {
      background: #e0f2fe;
      border: 2px dashed #38bdf8;
      padding: 16px;
      border-radius: 12px;
      color: #0c4a6e;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    /* Quiz Styles */
    .quiz-body {
      display: none;
      margin-top: 20px;
      padding-top: 20px;
      border-top: 2px dashed var(--accent-orange);
    }

    .quiz-q {
      margin-bottom: 24px;
      background: white;
      padding: 20px;
      border-radius: 16px;
      box-shadow: var(--shadow-sm);
    }

    .quiz-q p {
      font-weight: 600;
      font-size: 1rem;
      margin-bottom: 16px;
      color: var(--text);
    }

    .quiz-options {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }

    @media (max-width: 600px) {
      .quiz-options {
        grid-template-columns: 1fr;
      }
    }

    .quiz-result {
      text-align: center;
      padding: 20px;
      background: white;
      border-radius: 16px;
      margin-top: 20px;
      display: none;
    }

    /* Exercise Styles */
    .exercise {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .exercise-header {
      display: flex;
      gap: 16px;
      align-items: flex-start;
      margin-bottom: 12px;
    }

    .exercise-content {
      flex: 1;
      text-align: left;
      font-size: 1rem;
      font-weight: 500;
      color: var(--text);
      line-height: 1.7;
    }

    .exercise-content p {
      font-size: 1rem;
      font-weight: 500;
    }

    .input-group {
      display: flex;
      gap: 12px;
      margin-top: 10px;
    }

    .input-group input {
      flex: 1;
      padding: 12px 16px;
      border: 2px solid var(--border);
      border-radius: 12px;
      font-size: 1rem;
      font-family: inherit;
      transition: all 0.2s;
    }

    .input-group input:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 4px var(--primary-light);
    }

    /* Hint System */
    .hint {
      margin-top: 12px;
      margin-bottom: 12px;
      display: inline-block;
      cursor: pointer;
      font-size: 0.95rem;
      color: var(--primary);
      font-weight: 700;
      padding: 8px 16px;
      border: 2px dashed var(--primary-light);
      border-radius: 12px;
      background: rgba(255, 255, 255, 0.5);
      transition: all 0.3s ease;
      user-select: none;
    }

    .hint:hover {
      background: var(--primary-light);
      border-color: var(--primary);
    }

    .hint-text {
      display: none;
      margin-top: 10px;
      padding: 12px;
      background: #eff6ff;
      border-left: 4px solid var(--primary);
      border-radius: 8px;
      color: var(--text);
      font-weight: 500;
      line-height: 1.5;
      animation: fadeIn 0.3s ease-out;
    }

    .hint.revealed {
      border-style: solid;
      background: white;
      width: 100%;
      /* Expand to full width when opened */
      cursor: default;
    }

    .hint.revealed .hint-text {
      display: block;
    }

    .done-check {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      margin-left: 10px;
      font-weight: 700;
      cursor: pointer;
      color: var(--text-light);
      white-space: nowrap;
    }

    /* Utilities */
    .arrow-t {
      display: inline-block;
      transition: transform 0.3s;
    }

    .arrow-t.rotate {
      transform: rotate(180deg);
    }

    /* Cat Helper */
    .cat-helper {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 1000;
      cursor: pointer;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
    }

    .cat-face-img {
      width: 80px;
      height: 80px;
      filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.2));
      transition: transform 0.2s;
    }

    .cat-face-img:hover {
      transform: scale(1.1) rotate(10deg);
    }

    .cat-msg {
      background: white;
      padding: 12px 20px;
      border-radius: 20px;
      border-bottom-right-radius: 4px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      margin-bottom: 10px;
      font-weight: 700;
      color: var(--primary);
      max-width: 250px;
      animation: fadeIn 0.3s ease-out;
    }

    #confetti-canvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 9999;
    }

    /* Toggle Button Styles */
    .quiz-toggle,
    .solution-toggle {
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: white;
      border: 2px solid var(--border);
      font-size: 0.95rem;
      font-weight: 700;
      color: var(--text);
      cursor: pointer;
      padding: 14px 16px;
      margin-top: 10px;
      border-radius: 12px;
      transition: all 0.2s;
      box-shadow: var(--shadow-sm);
    }

    .quiz-toggle:hover,
    .solution-toggle:hover {
      border-color: var(--primary);
      color: var(--primary);
      background: var(--primary-light);
      transform: translateY(-1px);
    }

    /* Open States */
    .quiz-body.open,
    .solution.open,
    .theory-body.open {
      display: block !important;
    }

    .theory-toggle.open .arrow-t,
    .quiz-toggle.open .arrow-t {
      transform: rotate(180deg);
    }

    .solution {
      display: none;
      margin-top: 12px;
      padding: 20px;
      background: #f8fafc;
      border-radius: 12px;
      border: 1px solid var(--primary-light);
      animation: fadeIn 0.3s ease-out;
      position: relative;
    }

    .solution::before {
      content: 'Lahendusk√§ik:';
      display: block;
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 1px;
      color: var(--text-light);
      margin-bottom: 10px;
      font-weight: 800;
      border-bottom: 1px solid #e2e8f0;
      padding-bottom: 4px;
    }

    /* Make Unicode fractions & superscript/subscript readable */
    .exercise-content, .step, .answer-box, .hint-text, .rule, .quiz-q p {
      font-variant-numeric: normal;
    }

    /* Formula display */
    .formula {
      font-family: 'Courier New', Courier, monospace;
      font-size: 1rem;
      font-weight: 700;
      background: #f8fafc;
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 10px 16px;
      margin: 8px 0;
      letter-spacing: 0.5px;
      color: var(--text);
      line-height: 1.5;
    }

    /* Difficulty badges */
    .difficulty {
      display: inline-block;
      font-size: 0.75rem;
      font-weight: 800;
      text-transform: uppercase;
      letter-spacing: 1px;
      padding: 4px 12px;
      border-radius: 99px;
      margin-top: 8px;
    }

    .difficulty.easy {
      background: var(--accent-green-light);
      color: #065f46;
    }

    .difficulty.medium {
      background: var(--accent-orange-light);
      color: #92400e;
    }

    .difficulty.hard {
      background: var(--accent-rose-light);
      color: #9f1239;
    }

    /* Solution steps */
    .solution-inner {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .step {
      background: white;
      border: 1px solid var(--border);
      border-left: 4px solid var(--primary);
      padding: 14px 16px;
      border-radius: 8px;
      line-height: 1.7;
      font-size: 1rem;
    }

    .step strong {
      color: var(--primary);
    }

    .answer-box {
      background: var(--accent-green-light);
      border: 2px solid var(--accent-green);
      border-radius: 12px;
      padding: 14px 20px;
      font-size: 1rem;
      font-weight: 700;
      color: #065f46;
      text-align: center;
      margin-top: 4px;
    }

    /* Quiz inner container */
    .quiz-inner {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    /* Toggle icon spacing */
    .theory-toggle .icon,
    .quiz-toggle .icon {
      margin-right: 8px;
      font-size: 1.2rem;
    }

    /* XP popup */
    .xp-popup {
      position: fixed;
      z-index: 10000;
      font-size: 1.2rem;
      font-weight: 800;
      color: var(--accent-orange);
      pointer-events: none;
      animation: xpFloat 1.2s ease-out forwards;
      text-shadow: 0 1px 3px rgba(0, 0, 0, 0.15);
    }

    @keyframes xpFloat {
      0% {
        opacity: 1;
        transform: translateY(0) scale(1);
      }

      100% {
        opacity: 0;
        transform: translateY(-60px) scale(1.3);
      }
    }

    /* Level-up overlay */
    .level-up-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10001;
      animation: fadeIn 0.3s ease-out;
    }

    .level-up-card {
      background: white;
      border-radius: 24px;
      padding: 40px 50px;
      text-align: center;
      box-shadow: 0 25px 50px rgba(0, 0, 0, 0.25);
      animation: levelPop 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
    }

    .lu-cat {
      font-size: 4rem;
      margin-bottom: 12px;
    }

    .lu-title {
      font-size: 1.5rem;
      font-weight: 800;
      color: var(--primary);
      margin-bottom: 8px;
    }

    .lu-subtitle {
      font-size: 1.1rem;
      font-weight: 600;
      color: var(--text-light);
    }

    @keyframes levelPop {
      0% {
        opacity: 0;
        transform: scale(0.5);
      }

      100% {
        opacity: 1;
        transform: scale(1);
      }
    }

    /* Achievements panel */
    .achievements-panel {
      margin-bottom: 30px;
    }

    .ach-icon {
      font-size: 1.8rem;
      line-height: 1;
    }

    .ach-name {
      font-size: 0.75rem;
      font-weight: 700;
      color: var(--text);
      line-height: 1.2;
    }

    .ach-tooltip {
      display: none;
      position: absolute;
      bottom: calc(100% + 8px);
      left: 50%;
      transform: translateX(-50%);
      background: var(--text);
      color: white;
      padding: 6px 12px;
      border-radius: 8px;
      font-size: 0.75rem;
      font-weight: 600;
      white-space: nowrap;
      z-index: 10;
    }

    .achievement:hover .ach-tooltip {
      display: block;
    }

    /* Checkbox styling */
    .done-check input[type="checkbox"] {
      width: 18px;
      height: 18px;
      accent-color: var(--accent-green);
      cursor: pointer;
    }

    /* Solution toggle arrow */
    .solution-toggle .arrow {
      display: inline-block;
      transition: transform 0.3s;
      margin-right: 8px;
      font-size: 0.8rem;
    }

    .solution-toggle.open .arrow {
      transform: rotate(90deg);
    }

    /* XP bar in stat card */
    .xp-bar-container {
      border-radius: 3px;
      overflow: hidden;
    }

    /* Quiz difficulty group labels */
    .quiz-difficulty-label {
      font-size: 0.8rem;
      font-weight: 800;
      text-transform: uppercase;
      letter-spacing: 1.5px;
      padding: 6px 14px;
      border-radius: 8px;
      margin: 4px 0 -8px;
    }

    .quiz-difficulty-label.easy-label {
      background: var(--accent-green-light);
      color: #065f46;
    }

    .quiz-difficulty-label.medium-label {
      background: var(--accent-orange-light);
      color: #92400e;
    }

    .quiz-difficulty-label.hard-label {
      background: var(--accent-rose-light);
      color: #9f1239;
    }

    /* Quiz result & score */
    .quiz-result .score {
      font-size: 2rem;
      font-weight: 800;
      margin-bottom: 8px;
    }

    .quiz-result .score.good {
      color: var(--accent-green);
    }

    .quiz-result .score.ok {
      color: var(--accent-orange);
    }

    .quiz-result .score.bad {
      color: var(--accent-rose);
    }

    .quiz-result .msg {
      font-size: 1rem;
      font-weight: 600;
      color: var(--text-light);
      margin-bottom: 16px;
    }

    .quiz-reset {
      background: var(--primary);
      color: white;
      border: none;
      padding: 10px 24px;
      border-radius: 99px;
      font-weight: 700;
      font-size: 0.95rem;
      font-family: inherit;
      cursor: pointer;
      transition: all 0.2s;
    }

    .quiz-reset:hover {
      background: #4338ca;
      transform: translateY(-1px);
    }

    /* Quiz option marker */
    .marker {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 28px;
      height: 28px;
      border-radius: 8px;
      background: var(--primary-light);
      color: var(--primary);
      font-weight: 800;
      font-size: 0.85rem;
      flex-shrink: 0;
    }

    .quiz-opt.correct .marker {
      background: var(--accent-green);
      color: white;
    }

    .quiz-opt.wrong .marker {
      background: var(--accent-rose);
      color: white;
    }

    .quiz-opt.disabled {
      pointer-events: none;
      opacity: 0.7;
    }

    .quiz-opt.disabled.correct {
      opacity: 1;
    }

    /* Cat helper close button */
    .close-cat {
      position: absolute;
      top: -4px;
      right: -4px;
      background: white;
      border: 1px solid var(--border);
      border-radius: 50%;
      width: 22px;
      height: 22px;
      font-size: 0.7rem;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--text-light);
      transition: all 0.2s;
      z-index: 1;
    }

    .close-cat:hover {
      background: var(--accent-rose-light);
      color: var(--accent-rose);
    }

    .cat-helper {
      position: relative;
    }

    /* Confetti */
    .confetti-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 9999;
      overflow: hidden;
    }

    .confetti {
      position: absolute;
      top: -20px;
      border-radius: 3px;
      animation: confettiFall 3s ease-in forwards;
    }

    @keyframes confettiFall {
      0% {
        transform: translateY(0) rotate(0deg);
        opacity: 1;
      }

      100% {
        transform: translateY(100vh) rotate(720deg);
        opacity: 0;
      }
    }

    /* Cat reaction in quiz */
    .cat-reaction {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-top: 12px;
      padding: 10px 14px;
      border-radius: 12px;
      background: var(--primary-light);
      font-size: 1.5rem;
      animation: fadeIn 0.3s ease-out;
    }

    .cat-reaction .cat-text {
      font-size: 0.9rem;
      font-weight: 700;
      color: var(--primary);
    }

    /* Paw trail */
    .paw-step {
      font-size: 0.8rem;
      opacity: 0.2;
      transition: opacity 0.3s, transform 0.3s;
    }

    .paw-step.active {
      opacity: 1;
      animation: pawBounce 0.4s ease-out;
    }

    @keyframes pawBounce {
      0% { transform: scale(0.5); }
      50% { transform: scale(1.3); }
      100% { transform: scale(1); }
    }

    /* Achievements grid */
    .achievements-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(90px, 1fr));
      gap: 8px;
    }

    .achievement {
      background: white;
      border-radius: 12px;
      padding: 10px 6px;
      text-align: center;
      box-shadow: var(--shadow-sm);
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
      position: relative;
      transition: transform 0.2s;
      border: 2px solid transparent;
    }

    .achievement:hover {
      transform: translateY(-2px);
    }

    .achievement.locked {
      opacity: 0.4;
      filter: grayscale(1);
    }

    .achievement.unlocked {
      border-color: var(--accent-orange);
      opacity: 1;
      filter: none;
    }

    @keyframes achieveUnlock {
      0% { transform: scale(0.8); opacity: 0; }
      50% { transform: scale(1.15); }
      100% { transform: scale(1); opacity: 1; }
    }

    /* Streak fire */
    .streak-fire {
      font-size: 1rem;
    }

    /* Level cat emoji */
    .level-cat {
      font-size: 1.2rem;
    }

    /* Celebrate & bounce animations for mascot */
    @keyframes celebrate {
      0% { transform: scale(1) rotate(0deg); }
      25% { transform: scale(1.2) rotate(-10deg); }
      50% { transform: scale(1.1) rotate(10deg); }
      75% { transform: scale(1.15) rotate(-5deg); }
      100% { transform: scale(1) rotate(0deg); }
    }

    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-6px); }
    }

    /* Orange step variant */
    .step.orange-step {
      border-left-color: var(--accent-orange);
    }

    .step.orange-step strong {
      color: #92400e;
    }

    /* Footer */
    footer {
      text-align: center;
      padding: 40px 20px;
      color: var(--text-light);
      font-size: 0.9rem;
      position: relative;
    }

    /* Additional responsive tweaks */
    @media (max-width: 600px) {
      .formula {
        font-size: 1rem;
        padding: 10px 12px;
      }

      .exercise-content {
        font-size: 1rem;
      }

      .step {
        font-size: 0.9rem;
        padding: 10px 12px;
      }

      .level-up-card {
        padding: 30px 24px;
        margin: 20px;
      }

      .achievements-grid {
        grid-template-columns: repeat(auto-fill, minmax(75px, 1fr));
      }
    }
  </style>
</head>

<body>
  <div class="container">
    <header><img src="assets/mascot-happy.svg" alt="Happy Mascot" class="mascot-main" onclick="petCat(this)">
      <div class="speech-bubble">Tere tulemast ! Lahendame koos ! üò∫</div>
      <h1>7. klassi sisseastumiseksam</h1>
      <p class="subtitle">Matemaatika harjutus√ºlesanded ja teooria</p>
    </header>
    <!-- Gamification Dashboard -->
    <div class="dashboard">
      <div class="stat-card">
        <div class="stat-label">Tase</div>
        <div class="stat-value" id="level-value">1</div>
        <div class="stat-sub" id="level-title">Algaja</div>
      </div>
      <div class="stat-card">
        <div class="stat-label">Kogemus (XP)</div>
        <div class="stat-value" id="xp-value">0</div>
        <div class="xp-bar-container"
          style="width: 80%; height: 6px; background: #eee; border-radius: 3px; margin-top: 8px;">
          <div class="xp-bar-fill" id="xp-bar-fill"
            style="width: 0%; height: 100%; background: var(--accent-orange); transition: width 0.5s;"></div>
        </div>
        <div style="font-size: 0.7rem; color: #aaa; margin-top: 4px;" id="xp-current-label">0 XP</div>
        <div style="font-size: 0.7rem; color: #aaa; margin-top: 2px;" id="xp-next-label">J√§rgmine tase: 100 XP</div>
      </div>
      <div class="stat-card">
        <div class="stat-label">J√§rjepidevus</div>
        <div class="stat-value" id="streak-value">0</div>
        <div class="stat-sub">P√§eva j√§rjest</div>
      </div>
      <div class="card progress-card" style="margin-bottom: 0; padding: 20px;"><img src="assets/mascot-thinking.svg"
          style="width: 50px; height: 50px; object-fit: contain;" alt="Thinking">
        <div class="progress-info">
          <div
            style="display: flex; justify-content: space-between; font-weight: 700; color: var(--text-light); margin-bottom: 5px;">
            <span>Edusammud</span><span id="progress-text">0 / 17</span>
          </div>
          <div class="progress-track">
            <div class="progress-fill" id="progress-fill"></div>
          </div>
        </div>
      </div>
      <div class="paw-trail-card card" style="grid-column: span 3; padding: 12px 16px; margin-bottom: 0;">
        <div id="paw-trail" style="display: flex; flex-wrap: wrap; gap: 2px; justify-content: center;"></div>
        <div id="cat-progress-msg" style="text-align: center; font-weight: 600; font-size: 0.85rem; color: var(--text-light); margin-top: 6px;"></div>
      </div>
    </div>
    <!-- Achievements Panel -->
    <div class="achievements-panel" id="achievements-panel">
      <div id="achievements-grid" class="achievements-grid"></div>
    </div>
    <!-- Navigation -->
    <div class="nav-container">
      <div class="nav-tab active" data-section="sec-murrud">Murrud</div>
      <div class="nav-tab" data-section="sec-protsent">Protsent</div>
      <div class="nav-tab" data-section="sec-geom">Geomeetria</div>
      <div class="nav-tab" data-section="sec-probleem">Probleemid</div>
    </div>
    <!--=====================1. MURRUD=====================-->
    <div class="section active" id="sec-murrud">
      <div class="section-header"><img src="assets/mascot-thinking.svg" class="section-icon" alt="Cat">
        <div>
          <h2>Murrud ja k√ºmnendmurrud</h2>
          <p>Tehted harilike ja k√ºmnendmurdudega,
            teisendused,
            tehete j√§rjekord</p>
        </div>
      </div>
      <!-- TEOORIA -->
      <div class="card theory-card"><button class="theory-toggle" onclick="toggleTheory(this)"><span
            class="icon">üìñ</span>Teooria meelespea <span class="arrow-t">‚ñº</span></button>
        <div class="theory-body">
          <div class="theory-inner">
            <h4>Teisendused</h4>
            <div class="rule">
              <strong>Segaarv ‚Üí lihtmurd</strong>
              Segaarvus on t√§isosa ja murdosa koos (nt 3 ¬≤‚ÅÑ‚ÇÖ). Lihtmurruks teisendamisel korruta t√§isosa nimetajaga, liida tulemus lugejale ja kirjuta sama nimetaja alla.
              <br>N√§ide: 3 ¬≤‚ÅÑ‚ÇÖ ‚Üí lugeja: 3 ¬∑ 5 + 2 = 17, nimetaja: 5 ‚Üí vastus: ¬π‚Å∑‚ÅÑ‚ÇÖ
              <br>Kontroll: 17 : 5 = 3,4 ja 3 ¬≤‚ÅÑ‚ÇÖ = 3,4 ‚úì
            </div>
            <div class="rule">
              <strong>K√ºmnendmurd ‚Üí harilik murd</strong>
              Loe komakohtade arv ja kirjuta vastav nimetaja: 1 koht ‚Üí 10, 2 kohta ‚Üí 100, 3 kohta ‚Üí 1000 jne. Seej√§rel taanda murd v√µimalikult lihtsaks, jagades lugejat ja nimetajat nende suurima √ºhisteguriga.
              <br>N√§ide: 0,375 ‚Üí kolm kohta peale koma ‚Üí ¬≥‚Å∑‚Åµ‚ÅÑ‚ÇÅ‚ÇÄ‚ÇÄ‚ÇÄ
              <br>Taandame: 375 ja 1000 suurim √ºhistegur on 125 ‚Üí ¬≥‚Å∑‚Åµ‚ÅÑ‚ÇÅ‚ÇÄ‚ÇÄ‚ÇÄ = ¬≥‚ÅÑ‚Çà
            </div>
            <div class="rule">
              <strong>Harilik murd ‚Üí k√ºmnendmurd</strong>
              Jaga lugeja nimetajaga. M√µnikord saad l√µpliku k√ºmnendmurru (nt ¬π‚ÅÑ‚ÇÑ = 0,25), m√µnikord l√µpmatu perioodilise (nt ¬π‚ÅÑ‚ÇÉ = 0,333‚Ä¶). Kui jagamine ei l√§he t√§pselt, √ºmarda n√µutud t√§psuseni.
              <br>N√§ide: ¬≥‚ÅÑ‚Çà = 3 : 8 = 0,375
              <br>N√§ide: ¬≤‚ÅÑ‚ÇÉ = 2 : 3 = 0,666‚Ä¶ ‚âà 0,67
            </div>
            <h4>Tehted murdudega</h4>
            <div class="rule">
              <strong>Liitmine ja lahutamine</strong>
              Murdude liitmiseks ja lahutamiseks peavad nimetajad olema √ºhesugused. Leia v√§him √ºhisnimetaja (v√§him √ºhiskordne), laienda m√µlemad murrud sellele nimetajale ja siis liida/lahuta ainult lugejaid. Nimetaja j√§√§b samaks.
              <br>N√§ide: ¬≤‚ÅÑ‚ÇÉ + ¬π‚ÅÑ‚ÇÑ ‚Üí √ºhisnimetaja on 12 ‚Üí ‚Å∏‚ÅÑ‚ÇÅ‚ÇÇ + ¬≥‚ÅÑ‚ÇÅ‚ÇÇ = ¬π¬π‚ÅÑ‚ÇÅ‚ÇÇ
              <br>NB! √Ñra unusta segaarve esmalt lihtmurruks teisendada.
            </div>
            <div class="rule">
              <strong>Korrutamine</strong>
              Korruta lugejad omavahel ja nimetajad omavahel. √úhist nimetajat siin vaja ei ole! Enne korrutamist tasub ristipidi taandada (lugeja √ºhe murru nimetajaga), et arvud j√§√§ksid v√§iksemaks.
              <br>N√§ide: ¬≤‚ÅÑ‚ÇÉ ¬∑ ‚Å¥‚ÅÑ‚ÇÖ = (2 ¬∑ 4) / (3 ¬∑ 5) = ‚Å∏‚ÅÑ‚ÇÅ‚ÇÖ
              <br>Ristipidi taandamise n√§ide: ‚Å¥‚ÅÑ‚Çâ ¬∑ ¬≥‚ÅÑ‚Çà ‚Üí taandame 4 ja 8 (√∑4) ning 3 ja 9 (√∑3) ‚Üí ¬π‚ÅÑ‚ÇÉ ¬∑ ¬π‚ÅÑ‚ÇÇ = ¬π‚ÅÑ‚ÇÜ
            </div>
            <div class="rule">
              <strong>Jagamine</strong>
              Murdude jagamine t√§hendab korrutamist p√∂√∂rdarvuga. P√∂√∂rdarv on murd, kus lugeja ja nimetaja on vahetatud. Keera teine murd (jagaja) √ºmber ja korruta tavap√§raselt.
              <br>N√§ide: ¬≤‚ÅÑ‚ÇÉ : ‚Å¥‚ÅÑ‚ÇÖ ‚Üí keera ‚Å¥‚ÅÑ‚ÇÖ √ºmber ‚Üí ¬≤‚ÅÑ‚ÇÉ ¬∑ ‚Åµ‚ÅÑ‚ÇÑ = ¬π‚Å∞‚ÅÑ‚ÇÅ‚ÇÇ = ‚Åµ‚ÅÑ‚ÇÜ
            </div>
            <h4>Tehete j√§rjekord</h4>
            <div class="rule">
              <strong>Reegel ‚ÄûSAKL"</strong>
              Pea meeles: Sulud ‚Üí Astmed ‚Üí Korrutamine/Jagamine ‚Üí Liitmine/Lahutamine. See reegel kehtib alati, ka murdude ja k√ºmnendmurdude puhul.
              <br>1) Arvuta k√µigepealt sulud v√§lja (seestpoolt v√§ljapoole)
              <br>2) Seej√§rel astendamine (nt 3¬≤ = 9)
              <br>3) Siis korrutamine ja jagamine (vasakult paremale)
              <br>4) L√µpuks liitmine ja lahutamine (vasakult paremale)
            </div>
            <div class="fun-fact"><strong>üî¢ Kas teadsid?</strong> Vanad egiptlased kasutasid √ºle 3000 aasta tagasi ainult √ºhelugejaga murde (nt ¬π‚ÅÑ‚ÇÉ, ¬π‚ÅÑ‚Çá). Murru ¬≤‚ÅÑ‚ÇÖ kirjutaksid nad hoopis summana: ¬π‚ÅÑ‚ÇÉ + ¬π‚ÅÑ‚ÇÅ‚ÇÖ!</div>
            <div class="fun-fact"><strong>üçï Kas teadsid?</strong> S√µna ‚Äûmurd" (ehk ‚Äûfraktsioon") tuleb ladina s√µnast <em>fractio</em>, mis t√§hendab ‚Äûmurdmist" v√µi ‚Äût√ºkeldamist" ‚Äî nagu pitsa jagamine viiludeks!</div>
            <div class="fun-fact"><strong>üåç Kas teadsid?</strong> Murdude kirjutamisviis horisontaalse joonega (nt ¬≥‚ÅÑ‚ÇÑ) p√§rineb araabia matemaatikutelt 12. sajandist. Enne seda kasutati hoopis s√µnalisi kirjeldusi!</div>
          </div>
        </div>
      </div>
      <!-- KIIRTEST -->
      <div class="card quiz-card" id="quiz-murrud"><button class="quiz-toggle" onclick="toggleQuiz(this)"><span
            class="icon">‚ö°</span>Kiirtest ‚Äî kontrolli oma teadmisi <span class="arrow-t">‚ñº</span></button>
        <div class="quiz-body">
          <div class="quiz-inner">
            <!-- üü¢ KERGED -->
            <p class="quiz-difficulty-label easy-label">üü¢ Kerged</p>

            <div class="quiz-q">
              <p>1. Kui palju on 1 ¬Ω lihtmurruna?</p>
              <div class="quiz-options">
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">A</span>¬≤‚ÅÑ‚ÇÇ</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">B</span>¬≤‚ÅÑ‚ÇÅ</div>
                <div class="quiz-opt" onclick="checkAnswer(this, true)"><span class="marker">C</span>¬≥‚ÅÑ‚ÇÇ</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">D</span>¬π‚ÅÑ‚ÇÉ</div>
              </div>
            </div>

            <div class="quiz-q">
              <p>2. Kui palju on ¬Ω ¬∑ ¬Ω?</p>
              <div class="quiz-options">
                <div class="quiz-opt" onclick="checkAnswer(this, true)"><span class="marker">A</span>¬π‚ÅÑ‚ÇÑ</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">B</span>1</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">C</span>¬≤‚ÅÑ‚ÇÑ</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">D</span>¬π‚ÅÑ‚ÇÇ</div>
              </div>
            </div>

            <div class="quiz-q">
              <p>3. Teisenda 0,5 harilikuks murruks.</p>
              <div class="quiz-options">
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">A</span>‚Åµ‚ÅÑ‚ÇÅ‚ÇÄ‚ÇÄ</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">B</span>‚Åµ‚ÅÑ‚ÇÅ</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">C</span>¬π‚ÅÑ‚ÇÖ</div>
                <div class="quiz-opt" onclick="checkAnswer(this, true)"><span class="marker">D</span>¬π‚ÅÑ‚ÇÇ</div>
              </div>
            </div>

            <!-- üü° KESKMISED -->
            <p class="quiz-difficulty-label medium-label">üü° Keskmised</p>

            <div class="quiz-q">
              <p>4. Arvuta: ¬≤‚ÅÑ‚ÇÉ + ¬π‚ÅÑ‚ÇÜ = ?</p>
              <div class="quiz-options">
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">A</span>¬≥‚ÅÑ‚Çâ</div>
                <div class="quiz-opt" onclick="checkAnswer(this, true)"><span class="marker">B</span>‚Åµ‚ÅÑ‚ÇÜ</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">C</span>¬≥‚ÅÑ‚ÇÜ</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">D</span>¬π‚ÅÑ‚ÇÇ</div>
              </div>
            </div>

            <div class="quiz-q">
              <p>5. Mis on arvu ‚Å¥‚ÅÑ‚Çá p√∂√∂rdv√§√§rtus?</p>
              <div class="quiz-options">
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">A</span>‚àí‚Å¥‚ÅÑ‚Çá</div>
                <div class="quiz-opt" onclick="checkAnswer(this, true)"><span class="marker">B</span>‚Å∑‚ÅÑ‚ÇÑ</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">C</span>¬π‚ÅÑ‚ÇÑ</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">D</span>‚Å¥‚ÅÑ‚Çá</div>
              </div>
            </div>

            <div class="quiz-q">
              <p>6. Teisenda 0,125 harilikuks murruks.</p>
              <div class="quiz-options">
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">A</span>¬π‚ÅÑ‚ÇÖ</div>
                <div class="quiz-opt" onclick="checkAnswer(this, true)"><span class="marker">B</span>¬π‚ÅÑ‚Çà</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">C</span>¬π‚ÅÑ‚ÇÑ</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">D</span>¬π¬≤‚ÅÑ‚ÇÅ‚ÇÄ‚ÇÄ</div>
              </div>
            </div>

            <!-- üî¥ RASKED -->
            <p class="quiz-difficulty-label hard-label">üî¥ Rasked</p>

            <div class="quiz-q">
              <p>7. Arvuta: 2 + 3 ¬∑ 4 ‚àí (10 ‚àí 8)¬≤ = ?</p>
              <div class="quiz-options">
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">A</span>16</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">B</span>12</div>
                <div class="quiz-opt" onclick="checkAnswer(this, true)"><span class="marker">C</span>10</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">D</span>6</div>
              </div>
            </div>

            <div class="quiz-q">
              <p>8. Arvuta: ¬≥‚ÅÑ‚ÇÑ : ¬π‚ÅÑ‚ÇÇ ‚àí ¬≤‚ÅÑ‚ÇÉ = ?</p>
              <div class="quiz-options">
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">A</span>¬π‚ÅÑ‚ÇÑ</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">B</span>1</div>
                <div class="quiz-opt" onclick="checkAnswer(this, true)"><span class="marker">C</span>‚Åµ‚ÅÑ‚ÇÜ</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">D</span>¬≥‚ÅÑ‚Çà</div>
              </div>
            </div>

            <div class="quiz-q">
              <p>9. Kui 0,(3) t√§hendab l√µpmatut perioodilist murdu 0,333..., siis kui palju on 0,(3) + 0,(6)?</p>
              <div class="quiz-options">
                <div class="quiz-opt" onclick="checkAnswer(this, true)"><span class="marker">A</span>1</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">B</span>0,(9)</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">C</span>‚Åπ‚ÅÑ‚ÇÅ‚ÇÄ</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">D</span>0,96</div>
              </div>
            </div>

            <div class="quiz-result" id="quiz-murrud-result">
              <div class="score"></div>
              <div class="msg"></div>
              <button class="quiz-reset" onclick="resetQuiz('quiz-murrud')">Proovi uuesti</button>
            </div>
          </div>
        </div>
      </div>
      <!-- ===== KERGED ===== -->
      <!-- 1.1 -->
      <div class="card exercise">
        <div class="exercise-header">
          <div class="exercise-number">1</div>
          <div class="exercise-content">
            <p>Teisenda segaarv 3 ¬≤‚ÅÑ‚ÇÖ lihtmurruks ja lihtmurd ¬π‚Å∑‚ÅÑ‚ÇÉ segaarvuks.</p>
            <span class="difficulty easy">Kerge</span>
            <div class="hint" onclick="this.classList.toggle('revealed')"><span>üí° Vihje (kl√µpsa)</span>
              <div class="hint-text">Segaarv ‚Üí lihtmurd: korruta t√§isosa nimetajaga ja liida lugejale. Lihtmurd ‚Üí segaarv: jaga lugeja nimetajaga, j√§√§k j√§√§b lugejaks.</div>
            </div>
            <div style="margin-top: 10px; display: flex; align-items: center; flex-wrap: wrap;">
              <button class="solution-toggle" onclick="toggleSolution(this)"><span class="arrow">‚ñ∂</span>Vaata lahendust</button>
              <label class="done-check"><input type="checkbox" onchange="updateProgress()"> Tehtud</label>
            </div>
          </div>
        </div>
        <div class="solution">
          <div class="solution-inner">
            <div class="step"><strong>Segaarv ‚Üí lihtmurd:</strong><br>3 ¬≤‚ÅÑ‚ÇÖ = (3¬∑5+2)/5 = ¬π‚Å∑‚ÅÑ‚ÇÖ</div>
            <div class="step"><strong>Lihtmurd ‚Üí segaarv:</strong><br>¬π‚Å∑‚ÅÑ‚ÇÉ = 17:3 = 5 j√§√§k 2 ‚Üí 5 ¬≤‚ÅÑ‚ÇÉ</div>
            <div class="answer-box">3 ¬≤‚ÅÑ‚ÇÖ = ¬π‚Å∑‚ÅÑ‚ÇÖ &nbsp;&nbsp;|&nbsp;&nbsp; ¬π‚Å∑‚ÅÑ‚ÇÉ = 5 ¬≤‚ÅÑ‚ÇÉ</div>
          </div>
        </div>
      </div>
      <!-- 1.2 -->
      <div class="card exercise">
        <div class="exercise-header">
          <div class="exercise-number">2</div>
          <div class="exercise-content">
            <p>Arvuta:</p>
            <p class="formula">¬≤‚ÅÑ‚ÇÉ + ¬π‚ÅÑ‚ÇÜ = ?</p>
            <span class="difficulty easy">Kerge</span>
            <div class="hint" onclick="this.classList.toggle('revealed')"><span>üí° Vihje (kl√µpsa)</span>
              <div class="hint-text">Leia √ºhine nimetaja. 3 ja 6 √ºhine nimetaja on 6.</div>
            </div>
            <div style="margin-top: 10px; display: flex; align-items: center; flex-wrap: wrap;">
              <button class="solution-toggle" onclick="toggleSolution(this)"><span class="arrow">‚ñ∂</span>Vaata lahendust</button>
              <label class="done-check"><input type="checkbox" onchange="updateProgress()"> Tehtud</label>
            </div>
          </div>
        </div>
        <div class="solution">
          <div class="solution-inner">
            <div class="step"><strong>√úhine nimetaja:</strong><br>¬≤‚ÅÑ‚ÇÉ = ‚Å¥‚ÅÑ‚ÇÜ</div>
            <div class="step"><strong>Liitmine:</strong><br>‚Å¥‚ÅÑ‚ÇÜ + ¬π‚ÅÑ‚ÇÜ = ‚Åµ‚ÅÑ‚ÇÜ</div>
            <div class="answer-box">Vastus: ‚Åµ‚ÅÑ‚ÇÜ</div>
          </div>
        </div>
      </div>
      <!-- 1.3 -->
      <div class="card exercise">
        <div class="exercise-header">
          <div class="exercise-number">3</div>
          <div class="exercise-content">
            <p>Teisenda k√ºmnendmurd 0,75 harilikuks murruks ja taanda l√µpuni.</p>
            <span class="difficulty easy">Kerge</span>
            <div class="hint" onclick="this.classList.toggle('revealed')"><span>üí° Vihje (kl√µpsa)</span>
              <div class="hint-text">0,75 = 75 sajandikku. Kirjuta murruks ja taanda √úT-ga.</div>
            </div>
            <div style="margin-top: 10px; display: flex; align-items: center; flex-wrap: wrap;">
              <button class="solution-toggle" onclick="toggleSolution(this)"><span class="arrow">‚ñ∂</span>Vaata lahendust</button>
              <label class="done-check"><input type="checkbox" onchange="updateProgress()"> Tehtud</label>
            </div>
          </div>
        </div>
        <div class="solution">
          <div class="solution-inner">
            <div class="step"><strong>Murruks:</strong><br>0,75 = ‚Å∑‚Åµ‚ÅÑ‚ÇÅ‚ÇÄ‚ÇÄ</div>
            <div class="step"><strong>Taandamine:</strong><br>‚Å∑‚Åµ‚ÅÑ‚ÇÅ‚ÇÄ‚ÇÄ = ¬≥‚ÅÑ‚ÇÑ (jagame 25-ga)</div>
            <div class="answer-box">Vastus: ¬≥‚ÅÑ‚ÇÑ</div>
          </div>
        </div>
      </div>

      <!-- ===== KESKMISED ===== -->
      <!-- 1.4 -->
      <div class="card exercise">
        <div class="exercise-header">
          <div class="exercise-number">4</div>
          <div class="exercise-content">
            <p>Arvuta avaldise t√§pne v√§√§rtus:</p>
            <p class="formula">(3 ¬≥‚ÅÑ‚ÇÖ : 2,4 ¬∑ ¬Ω ‚àí ¬π‚ÅÑ‚ÇÜ) ¬∑ 3,375 ‚àí 1,75</p>
            <span class="difficulty medium">Keskmine</span>
            <div class="hint" onclick="this.classList.toggle('revealed')"><span>üí° Vihje (kl√µpsa)</span>
              <div class="hint-text">Teisenda segaarv lihtmurruks ja k√ºmnendmurd murruks. J√§rgi tehete j√§rjekorda: esmalt sulgudes korrutamine ja jagamine, siis lahutamine.</div>
            </div>
            <div style="margin-top: 10px; display: flex; align-items: center; flex-wrap: wrap;">
              <button class="solution-toggle" onclick="toggleSolution(this)"><span class="arrow">‚ñ∂</span>Vaata lahendust</button>
              <label class="done-check"><input type="checkbox" onchange="updateProgress()"> Tehtud</label>
            </div>
          </div>
        </div>
        <div class="solution">
          <div class="solution-inner">
            <div class="step"><strong>1. samm:</strong> Teisendame: 3 ¬≥‚ÅÑ‚ÇÖ = ¬π‚Å∏‚ÅÑ‚ÇÖ ja 2,4 = ¬π¬≤‚ÅÑ‚ÇÖ</div>
            <div class="step"><strong>2. samm:</strong> Sulgudes jagamine ja korrutamine:<br>¬π‚Å∏‚ÅÑ‚ÇÖ : ¬π¬≤‚ÅÑ‚ÇÖ = ¬π‚Å∏‚ÅÑ‚ÇÖ ¬∑ ‚Åµ‚ÅÑ‚ÇÅ‚ÇÇ = ¬≥‚ÅÑ‚ÇÇ<br>¬≥‚ÅÑ‚ÇÇ ¬∑ ¬Ω = ¬≥‚ÅÑ‚ÇÑ</div>
            <div class="step"><strong>3. samm:</strong> Lahutamine sulgudes:<br>¬≥‚ÅÑ‚ÇÑ ‚àí ¬π‚ÅÑ‚ÇÜ = ‚Åπ‚ÅÑ‚ÇÅ‚ÇÇ ‚àí ¬≤‚ÅÑ‚ÇÅ‚ÇÇ = ‚Å∑‚ÅÑ‚ÇÅ‚ÇÇ</div>
            <div class="step"><strong>4. samm:</strong> Korrutame: 3,375 = ¬≤‚Å∑‚ÅÑ‚Çà<br>‚Å∑‚ÅÑ‚ÇÅ‚ÇÇ ¬∑ ¬≤‚Å∑‚ÅÑ‚Çà = ‚Å∂¬≥‚ÅÑ‚ÇÉ‚ÇÇ</div>
            <div class="step"><strong>5. samm:</strong> Lahutame: 1,75 = ‚Åµ‚Å∂‚ÅÑ‚ÇÉ‚ÇÇ<br>‚Å∂¬≥‚ÅÑ‚ÇÉ‚ÇÇ ‚àí ‚Åµ‚Å∂‚ÅÑ‚ÇÉ‚ÇÇ = ‚Å∑‚ÅÑ‚ÇÉ‚ÇÇ</div>
            <div class="answer-box">Vastus: ‚Å∑‚ÅÑ‚ÇÉ‚ÇÇ</div>
          </div>
        </div>
      </div>
      <!-- 1.5 -->
      <div class="card exercise">
        <div class="exercise-header">
          <div class="exercise-number">5</div>
          <div class="exercise-content">
            <p>Arvuta avaldise t√§pne v√§√§rtus:</p>
            <p class="formula">(43 ¬π‚ÅÑ‚ÇÉ ‚àí 42,9) : 39 + 0,05</p>
            <p class="formula" style="border-top: 2px solid #333; margin-top:0; border-radius:0;">9 ¬π‚ÅÑ‚ÇÜ ¬∑ ¬≤‚ÅÑ‚ÇÅ‚ÇÖ</p>
            <p style="font-size:0.85rem; color:var(--text-light);">(√úlemine avaldis jagatakse alumisega)</p>
            <span class="difficulty medium">Keskmine</span>
            <div class="hint" onclick="this.classList.toggle('revealed')"><span>üí° Vihje (kl√µpsa)</span>
              <div class="hint-text">Arvuta esmalt lugeja ja nimetaja eraldi. 43 ¬π‚ÅÑ‚ÇÉ ‚àí 42,9: teisenda m√µlemad murdudeks, √ºhine nimetaja on 30.</div>
            </div>
            <div style="margin-top: 10px; display: flex; align-items: center; flex-wrap: wrap;">
              <button class="solution-toggle" onclick="toggleSolution(this)"><span class="arrow">‚ñ∂</span>Vaata lahendust</button>
              <label class="done-check"><input type="checkbox" onchange="updateProgress()"> Tehtud</label>
            </div>
          </div>
        </div>
        <div class="solution">
          <div class="solution-inner">
            <div class="step"><strong>Lugeja:</strong><br>43 ¬π‚ÅÑ‚ÇÉ ‚àí 42,9 = ¬π¬≥‚Å∞‚Å∞‚ÅÑ‚ÇÉ‚ÇÄ ‚àí ¬π¬≤‚Å∏‚Å∑‚ÅÑ‚ÇÉ‚ÇÄ = ¬π¬≥‚ÅÑ‚ÇÉ‚ÇÄ<br>¬π¬≥‚ÅÑ‚ÇÉ‚ÇÄ : 39 = ¬π‚ÅÑ‚Çâ‚ÇÄ<br>¬π‚ÅÑ‚Çâ‚ÇÄ + ¬π‚ÅÑ‚ÇÇ‚ÇÄ = ¬≤‚ÅÑ‚ÇÅ‚Çà‚ÇÄ + ‚Åπ‚ÅÑ‚ÇÅ‚Çà‚ÇÄ = ¬π¬π‚ÅÑ‚ÇÅ‚Çà‚ÇÄ</div>
            <div class="step"><strong>Nimetaja:</strong><br>9 ¬π‚ÅÑ‚ÇÜ ¬∑ ¬≤‚ÅÑ‚ÇÅ‚ÇÖ = ‚Åµ‚Åµ‚ÅÑ‚ÇÜ ¬∑ ¬≤‚ÅÑ‚ÇÅ‚ÇÖ = ¬π¬π‚Å∞‚ÅÑ‚Çâ‚ÇÄ = ¬π¬π‚ÅÑ‚Çâ</div>
            <div class="step"><strong>Jagamine:</strong><br>¬π¬π‚ÅÑ‚ÇÅ‚Çà‚ÇÄ : ¬π¬π‚ÅÑ‚Çâ = ¬π¬π‚ÅÑ‚ÇÅ‚Çà‚ÇÄ ¬∑ ‚Åπ‚ÅÑ‚ÇÅ‚ÇÅ = ‚Åπ‚ÅÑ‚ÇÅ‚Çà‚ÇÄ = ¬π‚ÅÑ‚ÇÇ‚ÇÄ</div>
            <div class="answer-box">Vastus: ¬π‚ÅÑ‚ÇÇ‚ÇÄ = 0,05</div>
          </div>
        </div>
      </div>
      <!-- 1.6 -->
      <div class="card exercise">
        <div class="exercise-header">
          <div class="exercise-number">6</div>
          <div class="exercise-content">
            <p>Kirjuta avaldis ja arvuta t√§pne v√§√§rtus:</p>
            <p><em>Korruta arvude 2 ¬π‚ÅÑ‚ÇÉ ja 1,25 vahe arvude 2 ja 3,25 p√∂√∂rdv√§√§rtuste summaga.</em></p>
            <span class="difficulty medium">Keskmine</span>
            <div class="hint" onclick="this.classList.toggle('revealed')"><span>üí° Vihje (kl√µpsa)</span>
              <div class="hint-text">‚ÄûVahe" t√§hendab lahutamist, ‚Äûp√∂√∂rdv√§√§rtus" on 1 jagatud arvuga. Koosta esmalt avaldis: (2 ¬π‚ÅÑ‚ÇÉ ‚àí 1,25) ¬∑ (¬π‚ÅÑ‚ÇÇ + ‚Å¥‚ÅÑ‚ÇÅ‚ÇÉ)</div>
            </div>
            <div style="margin-top: 10px; display: flex; align-items: center; flex-wrap: wrap;">
              <button class="solution-toggle" onclick="toggleSolution(this)"><span class="arrow">‚ñ∂</span>Vaata lahendust</button>
              <label class="done-check"><input type="checkbox" onchange="updateProgress()"> Tehtud</label>
            </div>
          </div>
        </div>
        <div class="solution">
          <div class="solution-inner">
            <div class="step"><strong>Avaldis:</strong> (2 ¬π‚ÅÑ‚ÇÉ ‚àí 1,25) ¬∑ (¬π‚ÅÑ‚ÇÇ + ‚Å¥‚ÅÑ‚ÇÅ‚ÇÉ)</div>
            <div class="step"><strong>Vahe:</strong><br>2 ¬π‚ÅÑ‚ÇÉ ‚àí 1,25 = ‚Å∑‚ÅÑ‚ÇÉ ‚àí ‚Åµ‚ÅÑ‚ÇÑ = ¬≤‚Å∏‚ÅÑ‚ÇÅ‚ÇÇ ‚àí ¬π‚Åµ‚ÅÑ‚ÇÅ‚ÇÇ = ¬π¬≥‚ÅÑ‚ÇÅ‚ÇÇ</div>
            <div class="step"><strong>P√∂√∂rdv√§√§rtuste summa:</strong><br>3,25 = ¬π¬≥‚ÅÑ‚ÇÑ, p√∂√∂rdv√§√§rtus = ‚Å¥‚ÅÑ‚ÇÅ‚ÇÉ<br>¬π‚ÅÑ‚ÇÇ + ‚Å¥‚ÅÑ‚ÇÅ‚ÇÉ = ¬π¬≥‚ÅÑ‚ÇÇ‚ÇÜ + ‚Å∏‚ÅÑ‚ÇÇ‚ÇÜ = ¬≤¬π‚ÅÑ‚ÇÇ‚ÇÜ</div>
            <div class="step"><strong>Korrutis:</strong><br>¬π¬≥‚ÅÑ‚ÇÅ‚ÇÇ ¬∑ ¬≤¬π‚ÅÑ‚ÇÇ‚ÇÜ = ¬≤‚Å∑¬≥‚ÅÑ‚ÇÉ‚ÇÅ‚ÇÇ = ¬≤¬π‚ÅÑ‚ÇÇ‚ÇÑ = ‚Å∑‚ÅÑ‚Çà</div>
            <div class="answer-box">Vastus: ‚Å∑‚ÅÑ‚Çà</div>
          </div>
        </div>
      </div>

      <!-- ===== RASKED ===== -->
      <!-- 1.7 -->
      <div class="card exercise">
        <div class="exercise-header">
          <div class="exercise-number">7</div>
          <div class="exercise-content">
            <p>Arvuta avaldise t√§pne v√§√§rtus:</p>
            <p class="formula">12345 ‚àí [12345 ‚àí (12345 ‚àí 1)] ¬∑ 12345</p>
            <span class="difficulty hard">Keerulisem</span>
            <div class="hint" onclick="this.classList.toggle('revealed')"><span>üí° Vihje (kl√µpsa)</span>
              <div class="hint-text">Alusta k√µige seesmisematest sulgudest. Pane t√§hele, et 12345 ¬∑ 12344 on suur korrutis ‚Äî kas saad seda lihtsustada?</div>
            </div>
            <div style="margin-top: 10px; display: flex; align-items: center; flex-wrap: wrap;">
              <button class="solution-toggle" onclick="toggleSolution(this)"><span class="arrow">‚ñ∂</span>Vaata lahendust</button>
              <label class="done-check"><input type="checkbox" onchange="updateProgress()"> Tehtud</label>
            </div>
          </div>
        </div>
        <div class="solution">
          <div class="solution-inner">
            <div class="step"><strong>1. samm:</strong> Seesmised sulud: 12345 ‚àí 1 = 12344</div>
            <div class="step"><strong>2. samm:</strong> Nurksulud: 12345 ‚àí 12344 = 1</div>
            <div class="step"><strong>3. samm:</strong> Korrutamine: 1 ¬∑ 12345 = 12345</div>
            <div class="step"><strong>4. samm:</strong> L√µpptulemus: 12345 ‚àí 12345 = 0</div>
            <div class="answer-box">Vastus: 0</div>
          </div>
        </div>
      </div>
      <!-- 1.8 -->
      <div class="card exercise">
        <div class="exercise-header">
          <div class="exercise-number">8</div>
          <div class="exercise-content">
            <p>Arvuta avaldise t√§pne v√§√§rtus:</p>
            <p class="formula">(2 ¬π‚ÅÑ‚ÇÑ ‚àí 0,75) ¬∑ ¬≤‚ÅÑ‚ÇÉ + 1 ¬π‚ÅÑ‚ÇÜ : 3 ¬Ω</p>
            <span class="difficulty hard">Keerulisem</span>
            <div class="hint" onclick="this.classList.toggle('revealed')"><span>üí° Vihje (kl√µpsa)</span>
              <div class="hint-text">Teisenda k√µik segaarvud ja k√ºmnendmurrud lihtmurdudeks. J√§rgi tehete j√§rjekorda: korrutamine ja jagamine enne liitmist.</div>
            </div>
            <div style="margin-top: 10px; display: flex; align-items: center; flex-wrap: wrap;">
              <button class="solution-toggle" onclick="toggleSolution(this)"><span class="arrow">‚ñ∂</span>Vaata lahendust</button>
              <label class="done-check"><input type="checkbox" onchange="updateProgress()"> Tehtud</label>
            </div>
          </div>
        </div>
        <div class="solution">
          <div class="solution-inner">
            <div class="step"><strong>1. samm:</strong> Teisendame: 2 ¬π‚ÅÑ‚ÇÑ = ‚Åπ‚ÅÑ‚ÇÑ, &nbsp; 0,75 = ¬≥‚ÅÑ‚ÇÑ, &nbsp; 1 ¬π‚ÅÑ‚ÇÜ = ‚Å∑‚ÅÑ‚ÇÜ, &nbsp; 3 ¬Ω = ‚Å∑‚ÅÑ‚ÇÇ</div>
            <div class="step"><strong>2. samm:</strong> Sulud: ‚Åπ‚ÅÑ‚ÇÑ ‚àí ¬≥‚ÅÑ‚ÇÑ = ‚Å∂‚ÅÑ‚ÇÑ = ¬≥‚ÅÑ‚ÇÇ</div>
            <div class="step"><strong>3. samm:</strong> Korrutamine: ¬≥‚ÅÑ‚ÇÇ ¬∑ ¬≤‚ÅÑ‚ÇÉ = ‚Å∂‚ÅÑ‚ÇÜ = 1</div>
            <div class="step"><strong>4. samm:</strong> Jagamine: ‚Å∑‚ÅÑ‚ÇÜ : ‚Å∑‚ÅÑ‚ÇÇ = ‚Å∑‚ÅÑ‚ÇÜ ¬∑ ¬≤‚ÅÑ‚Çá = ¬≤‚ÅÑ‚ÇÜ = ¬π‚ÅÑ‚ÇÉ</div>
            <div class="step"><strong>5. samm:</strong> Liitmine: 1 + ¬π‚ÅÑ‚ÇÉ = 1 ¬π‚ÅÑ‚ÇÉ = ‚Å¥‚ÅÑ‚ÇÉ</div>
            <div class="answer-box">Vastus: 1 ¬π‚ÅÑ‚ÇÉ = ‚Å¥‚ÅÑ‚ÇÉ</div>
          </div>
        </div>
      </div>
      <!-- 1.9 -->
      <div class="card exercise">
        <div class="exercise-header">
          <div class="exercise-number">9</div>
          <div class="exercise-content">
            <p>Leia arv <em>x</em>, kui:</p>
            <p class="formula">¬≤‚ÅÑ‚ÇÉ ¬∑ x + ¬π‚ÅÑ‚ÇÑ ¬∑ x = 55</p>
            <span class="difficulty hard">Keerulisem</span>
            <div class="hint" onclick="this.classList.toggle('revealed')"><span>üí° Vihje (kl√µpsa)</span>
              <div class="hint-text">Liida esmalt x-i kordajad: ¬≤‚ÅÑ‚ÇÉ + ¬π‚ÅÑ‚ÇÑ. Leia √ºhine nimetaja ja lahenda seej√§rel x.</div>
            </div>
            <div style="margin-top: 10px; display: flex; align-items: center; flex-wrap: wrap;">
              <button class="solution-toggle" onclick="toggleSolution(this)"><span class="arrow">‚ñ∂</span>Vaata lahendust</button>
              <label class="done-check"><input type="checkbox" onchange="updateProgress()"> Tehtud</label>
            </div>
          </div>
        </div>
        <div class="solution">
          <div class="solution-inner">
            <div class="step"><strong>1. samm:</strong> Liidame kordajad: ¬≤‚ÅÑ‚ÇÉ + ¬π‚ÅÑ‚ÇÑ = ‚Å∏‚ÅÑ‚ÇÅ‚ÇÇ + ¬≥‚ÅÑ‚ÇÅ‚ÇÇ = ¬π¬π‚ÅÑ‚ÇÅ‚ÇÇ</div>
            <div class="step"><strong>2. samm:</strong> Saame v√µrrandi: ¬π¬π‚ÅÑ‚ÇÅ‚ÇÇ ¬∑ x = 55</div>
            <div class="step"><strong>3. samm:</strong> Lahendame: x = 55 : ¬π¬π‚ÅÑ‚ÇÅ‚ÇÇ = 55 ¬∑ ¬π¬≤‚ÅÑ‚ÇÅ‚ÇÅ = ‚Å∂‚Å∂‚Å∞‚ÅÑ‚ÇÅ‚ÇÅ = 60</div>
            <div class="answer-box">Vastus: x = 60</div>
          </div>
        </div>
      </div>
    </div>
    <!--=====================2. PROTSENT=====================-->
    <div class="section" id="sec-protsent">
      <div class="section-header"><img src="assets/mascot-happy.svg" class="section-icon" alt="Cat">
        <div>
          <h2>Protsentarvutus</h2>
          <p>Osa ja osam√§√§ra leidmine,
            protsent√ºlesanded igap√§evaelust</p>
        </div>
      </div>
      <!-- TEOORIA -->
      <div class="card theory-card"><button class="theory-toggle" onclick="toggleTheory(this)"><span
            class="icon">üìñ</span>Teooria meelespea <span class="arrow-t">‚ñº</span></button>
        <div class="theory-body">
          <div class="theory-inner">
            <h4>P√µhim√µisted</h4>
            <div class="rule green-rule">
              <strong>Mis on protsent?</strong>
              Protsent t√§hendab ‚Äûsajandikku" ‚Äî √ºks protsent on √ºks sajas osa tervikust. Protsendim√§rk % n√§itab, et arv on jagatud 100-ga.
              <br>1% = ¬π‚ÅÑ‚ÇÅ‚ÇÄ‚ÇÄ = 0,01
              <br>Kasulikud v√§√§rtused: 100% = terve, 50% = pool, 25% = veerand, 10% = k√ºmnendik, 75% = kolm neljandikku.
              <br>Pea meeles: protsendi saab alati teisendada murruks (jaga 100-ga) ja k√ºmnendmurruks (nihuta koma 2 kohta vasakule).
            </div>
            <div class="rule green-rule">
              <strong>Osa leidmine tervikust</strong>
              See on k√µige tavalisem protsent√ºlesanne: tead tervikut ja protsenti, otsid osa.
              <br>Valem: osa = tervik ¬∑ p : 100
              <br>N√§ide: Kui palju on 25% arvust 360? ‚Üí 360 ¬∑ 25 : 100 = 90
              <br>Kiire nipp: 10% leidmiseks jaga lihtsalt 10-ga. 5% = pool 10%-st. 1% = jaga 100-ga.
            </div>
            <div class="rule green-rule">
              <strong>Terviku leidmine osa j√§rgi</strong>
              Tead osa suurust ja mitu protsenti see tervikust moodustab. Otsid tervikut.
              <br>Valem: tervik = osa : p ¬∑ 100
              <br>N√§ide: 72 on 40% tervikust. Milline on tervik? ‚Üí 72 : 40 ¬∑ 100 = 180
              <br>M√µte: kui 40% = 72, siis 1% = 72 : 40 = 1,8 ja 100% = 1,8 ¬∑ 100 = 180.
            </div>
            <div class="rule green-rule">
              <strong>Protsendi leidmine</strong>
              Tead osa ja tervikut. Otsid, mitu protsenti osa tervikust moodustab.
              <br>Valem: p = osa : tervik ¬∑ 100%
              <br>N√§ide: 45 on mitu protsenti 200-st? ‚Üí 45 : 200 ¬∑ 100% = 22,5%
              <br>M√µte: jaga osa tervikuga, saad k√ºmnendmurru (0,225), korruta 100-ga ja lisad % m√§rgi.
            </div>
            <h4>Kasulikud seosed</h4>
            <div class="rule green-rule">
              <strong>Suurendamine protsentide v√µrra</strong>
              Kui hinda, palka vms t√µstetakse p% v√µrra, siis uus v√§√§rtus = algne ¬∑ (1 + p/100). Sulgudes olev arv on alati suurem kui 1.
              <br>Valem: uus = algne ¬∑ (1 + p/100)
              <br>N√§ide: 80 ‚Ç¨ + 25% ‚Üí 80 ¬∑ 1,25 = 100 ‚Ç¨
              <br>Selgitus: 1,25 t√§hendab ‚Äû100% + 25% = 125% algsest".
            </div>
            <div class="rule green-rule">
              <strong>V√§hendamine protsentide v√µrra</strong>
              Kui tehakse allahindlust p%, siis uus v√§√§rtus = algne ¬∑ (1 ‚àí p/100). Sulgudes olev arv on alati v√§iksem kui 1.
              <br>Valem: uus = algne ¬∑ (1 ‚àí p/100)
              <br>N√§ide: 100 ‚Ç¨ ‚àí 20% ‚Üí 100 ¬∑ 0,80 = 80 ‚Ç¨
              <br>Selgitus: 0,80 t√§hendab ‚Äû100% ‚àí 20% = 80% algsest".
            </div>
            <div class="rule green-rule">
              <strong>Ettevaatust topeltprotsentidega!</strong>
              Kui hinda t√µstetakse 20% ja siis alandatakse 20%, EI saa tagasi sama hinda! Seda seet√µttu, et teine protsent arvutatakse juba muutunud hinnast, mitte algsest.
              <br>N√§ide: 100 ‚Ç¨ ‚Üí +20% ‚Üí 120 ‚Ç¨ ‚Üí ‚àí20% ‚Üí 96 ‚Ç¨ (mitte 100 ‚Ç¨!)
              <br>Tulemus on 4% v√§iksem algsest (100 ‚àí 96 = 4).
            </div>
            <div class="fun-fact"><strong>üìú Kas teadsid?</strong> S√µna ‚Äûprotsent" tuleb ladina keelest: <em>per centum</em> = ‚Äûsajast". M√§rk % tekkis k√§sikirjalise l√ºhendi ‚Äûp.100" moonutamisest aja jooksul ‚Äî kaks nulli muutusid m√§rgiks!</div>
            <div class="fun-fact"><strong>üõí Kas teadsid?</strong> K√§ibemaks (KM) Eestis on 22%. See t√§hendab, et kui toote ‚Äûpuhas hind" on 100 ‚Ç¨, siis poes maksad 122 ‚Ç¨. K√µik hinnad poes sisaldavad juba k√§ibemaksu!</div>
            <div class="fun-fact"><strong>üè¶ Kas teadsid?</strong> Pangaintress on samuti protsent. Kui paned pangakontole 1000 ‚Ç¨ aastaintressiga 3%, teenib raha aastaga 30 ‚Ç¨ juurde. J√§rgmisel aastal arvutatakse intress juba 1030 ‚Ç¨-lt ‚Äî seda nimetatakse liitintressiks!</div>
          </div>
        </div>
      </div>
      <!-- KIIRTEST -->
      <div class="card quiz-card" id="quiz-protsent"><button class="quiz-toggle" onclick="toggleQuiz(this)"><span
            class="icon">‚ö°</span>Kiirtest ‚Äî kontrolli oma teadmisi <span class="arrow-t">‚ñº</span></button>
        <div class="quiz-body">
          <div class="quiz-inner">
            <!-- üü¢ KERGED -->
            <p class="quiz-difficulty-label easy-label">üü¢ Kerged</p>

            <div class="quiz-q">
              <p>1. Kui palju on 10% arvust 300?</p>
              <div class="quiz-options">
                <div class="quiz-opt" onclick="checkAnswer(this, true)"><span class="marker">A</span>30</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">B</span>3</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">C</span>300</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">D</span>33</div>
              </div>
            </div>

            <div class="quiz-q">
              <p>2. Kui palju on 50% arvust 80?</p>
              <div class="quiz-options">
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">A</span>50</div>
                <div class="quiz-opt" onclick="checkAnswer(this, true)"><span class="marker">B</span>40</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">C</span>30</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">D</span>160</div>
              </div>
            </div>

            <div class="quiz-q">
              <p>3. Raamat maksab 20 ‚Ç¨. Allahindlus on 10%. Kui palju tuleb maksta?</p>
              <div class="quiz-options">
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">A</span>10 ‚Ç¨</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">B</span>19 ‚Ç¨</div>
                <div class="quiz-opt" onclick="checkAnswer(this, true)"><span class="marker">C</span>18 ‚Ç¨</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">D</span>2 ‚Ç¨</div>
              </div>
            </div>

            <!-- üü° KESKMISED -->
            <p class="quiz-difficulty-label medium-label">üü° Keskmised</p>

            <div class="quiz-q">
              <p>4. 36 on mingi arvu 40%. Milline on see arv?</p>
              <div class="quiz-options">
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">A</span>72</div>
                <div class="quiz-opt" onclick="checkAnswer(this, true)"><span class="marker">B</span>90</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">C</span>80</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">D</span>14,4</div>
              </div>
            </div>

            <div class="quiz-q">
              <p>5. Hind t√µusis 50 ‚Ç¨-lt 60 ‚Ç¨-le. Mitu protsenti hind t√µusis?</p>
              <div class="quiz-options">
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">A</span>10%</div>
                <div class="quiz-opt" onclick="checkAnswer(this, true)"><span class="marker">B</span>20%</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">C</span>16,7%</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">D</span>12%</div>
              </div>
            </div>

            <div class="quiz-q">
              <p>6. Jakk maksab 120 ‚Ç¨. Esmalt tehakse 25% allahindlus. Kui palju jakk maksab?</p>
              <div class="quiz-options">
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">A</span>95 ‚Ç¨</div>
                <div class="quiz-opt" onclick="checkAnswer(this, true)"><span class="marker">B</span>90 ‚Ç¨</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">C</span>85 ‚Ç¨</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">D</span>100 ‚Ç¨</div>
              </div>
            </div>

            <!-- üî¥ RASKED -->
            <p class="quiz-difficulty-label hard-label">üî¥ Rasked</p>

            <div class="quiz-q">
              <p>7. Hinda t√µsteti 20% ja seej√§rel alandati 20%. Milline on l√µpptulemus?</p>
              <div class="quiz-options">
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">A</span>Sama mis algne</div>
                <div class="quiz-opt" onclick="checkAnswer(this, true)"><span class="marker">B</span>4% v√§iksem kui algne</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">C</span>4% suurem kui algne</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">D</span>S√µltub alghinnast</div>
              </div>
            </div>

            <div class="quiz-q">
              <p>8. Poes on kaup hinnaga 150 ‚Ç¨. Esmalt tehakse 20% allahindlus, siis veel 10% sooduskoodiga. Kui palju maksab kaup l√µpuks?</p>
              <div class="quiz-options">
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">A</span>105 ‚Ç¨</div>
                <div class="quiz-opt" onclick="checkAnswer(this, true)"><span class="marker">B</span>108 ‚Ç¨</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">C</span>100 ‚Ç¨</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">D</span>112,50 ‚Ç¨</div>
              </div>
            </div>

            <div class="quiz-q">
              <p>9. Rahvaarv kasvas aastaga 5%. Aasta l√µpus oli elanikke 63 000. Kui palju oli neid aasta alguses?</p>
              <div class="quiz-options">
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">A</span>59 850</div>
                <div class="quiz-opt" onclick="checkAnswer(this, true)"><span class="marker">B</span>60 000</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">C</span>61 000</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">D</span>66 150</div>
              </div>
            </div>

            <div class="quiz-result" id="quiz-protsent-result">
              <div class="score"></div>
              <div class="msg"></div>
              <button class="quiz-reset" onclick="resetQuiz('quiz-protsent')">Proovi uuesti</button>
            </div>
          </div>
        </div>
      </div>
      <!-- KERGED √úLESANDED -->
      <!-- 2.1 -->
      <div class="card exercise">
        <div class="exercise-header">
          <div class="exercise-number">1</div>
          <div class="exercise-content">
            <p>Klassis on 30 √µpilast. Neist 60% on t√ºdrukud. Mitu poissi on klassis?</p>
            <span class="difficulty easy">Kerge</span>
            <div class="hint" onclick="this.classList.toggle('revealed')">
              <span>üí° Vihje (kl√µpsa)</span>
              <div class="hint-text">Kui 60% on t√ºdrukud, siis poisse on 100% ‚àí 60% = 40%.</div>
            </div>
            <div style="margin-top: 10px; display: flex; align-items: center; flex-wrap: wrap;">
              <button class="solution-toggle" onclick="toggleSolution(this)">
                <span class="arrow">‚ñ∂</span>Vaata lahendust
              </button>
              <label class="done-check">
                <input type="checkbox" onchange="updateProgress()"> Tehtud
              </label>
            </div>
          </div>
        </div>
        <div class="solution">
          <div class="solution-inner">
            <div class="step green-step"><strong>1. samm:</strong> Poiste osakaal: 100% ‚àí 60% = 40%</div>
            <div class="step green-step"><strong>2. samm:</strong> 40% arvust 30: 30 ¬∑ 0,40 = 12</div>
            <div class="answer-box">Vastus: Klassis on 12 poissi</div>
          </div>
        </div>
      </div>
      <!-- 2.2 -->
      <div class="card exercise">
        <div class="exercise-header">
          <div class="exercise-number">2</div>
          <div class="exercise-content">
            <p>Raamat maksab 15 ‚Ç¨. Pood teeb 20% allahindlust. Kui palju maksab raamat p√§rast allahindlust?</p>
            <span class="difficulty easy">Kerge</span>
            <div class="hint" onclick="this.classList.toggle('revealed')">
              <span>üí° Vihje (kl√µpsa)</span>
              <div class="hint-text">Allahindlus = algne hind ¬∑ protsent / 100. Uus hind = algne hind ‚àí allahindlus.</div>
            </div>
            <div style="margin-top: 10px; display: flex; align-items: center; flex-wrap: wrap;">
              <button class="solution-toggle" onclick="toggleSolution(this)">
                <span class="arrow">‚ñ∂</span>Vaata lahendust
              </button>
              <label class="done-check">
                <input type="checkbox" onchange="updateProgress()"> Tehtud
              </label>
            </div>
          </div>
        </div>
        <div class="solution">
          <div class="solution-inner">
            <div class="step green-step"><strong>1. samm:</strong> Allahindluse suurus: 15 ¬∑ 0,20 = 3 ‚Ç¨</div>
            <div class="step green-step"><strong>2. samm:</strong> Uus hind: 15 ‚àí 3 = 12 ‚Ç¨</div>
            <div class="answer-box">Vastus: Raamat maksab 12 ‚Ç¨</div>
          </div>
        </div>
      </div>
      <!-- 2.3 -->
      <div class="card exercise">
        <div class="exercise-header">
          <div class="exercise-number">3</div>
          <div class="exercise-content">
            <p>Kahes kilogrammis maasikamoosis on 45% suhkrut. Kolmes kilogrammis vaarikamoosis on 55% suhkrut. Mitu kilogrammi suhkrut sisaldab segu, kui need kaks moosi kokku segada?</p>
            <span class="difficulty easy">Kerge</span>
            <div class="hint" onclick="this.classList.toggle('revealed')">
              <span>üí° Vihje (kl√µpsa)</span>
              <div class="hint-text">Arvuta m√µlema moosi suhkrukogus eraldi ja liida need kokku.</div>
            </div>
            <div style="margin-top: 10px; display: flex; align-items: center; flex-wrap: wrap;">
              <button class="solution-toggle" onclick="toggleSolution(this)">
                <span class="arrow">‚ñ∂</span>Vaata lahendust
              </button>
              <label class="done-check">
                <input type="checkbox" onchange="updateProgress()"> Tehtud
              </label>
            </div>
          </div>
        </div>
        <div class="solution">
          <div class="solution-inner">
            <div class="step green-step"><strong>1. samm:</strong> Maasikamoos: 2 ¬∑ 0,45 = 0,9 kg suhkrut</div>
            <div class="step green-step"><strong>2. samm:</strong> Vaarikamoos: 3 ¬∑ 0,55 = 1,65 kg suhkrut</div>
            <div class="answer-box">Vastus: 0,9 + 1,65 = 2,55 kg suhkrut</div>
          </div>
        </div>
      </div>
      <!-- KESKMISED √úLESANDED -->
      <!-- 2.4 -->
      <div class="card exercise">
        <div class="exercise-header">
          <div class="exercise-number">4</div>
          <div class="exercise-content">
            <p>Poes on allahindlus: k√µik hinnad on langetatud 30%. Mart ostab jaki, mille uus hind on 56 ‚Ç¨. Kui palju maksis jakk enne allahindlust?</p>
            <span class="difficulty medium">Keskmine</span>
            <div class="hint" onclick="this.classList.toggle('revealed')">
              <span>üí° Vihje (kl√µpsa)</span>
              <div class="hint-text">Kui hind on 30% madalam, siis uus hind on 70% algsest. Seega 56 ‚Ç¨ = 70% ¬∑ algne hind.</div>
            </div>
            <div style="margin-top: 10px; display: flex; align-items: center; flex-wrap: wrap;">
              <button class="solution-toggle" onclick="toggleSolution(this)">
                <span class="arrow">‚ñ∂</span>Vaata lahendust
              </button>
              <label class="done-check">
                <input type="checkbox" onchange="updateProgress()"> Tehtud
              </label>
            </div>
          </div>
        </div>
        <div class="solution">
          <div class="solution-inner">
            <div class="step green-step"><strong>1. samm:</strong> Kui 30% on maha v√µetud, j√§i 70% algsest hinnast.</div>
            <div class="step green-step"><strong>2. samm:</strong> 56 = 0,70 ¬∑ x ‚Üí x = 56 : 0,70 = 80</div>
            <div class="answer-box">Vastus: Jakk maksis enne allahindlust 80 ‚Ç¨</div>
          </div>
        </div>
      </div>
      <!-- 2.5 -->
      <div class="card exercise">
        <div class="exercise-header">
          <div class="exercise-number">5</div>
          <div class="exercise-content">
            <p>Isa teenib kuus 840 ‚Ç¨ ja ema palk moodustab sellest 125%. Isa palka t√µsteti 25% ja ema palk v√§henes 20%.</p>
            <p>a) Kui palju teenivad ema ja isa n√º√ºd kokku?<br>b) Kuidas muutus pere sissetulek?</p>
            <span class="difficulty medium">Keskmine</span>
            <div class="hint" onclick="this.classList.toggle('revealed')">
              <span>üí° Vihje (kl√µpsa)</span>
              <div class="hint-text">Arvuta esmalt ema algne palk (125% isast). Siis arvuta m√µlema uus palk eraldi.</div>
            </div>
            <div style="margin-top: 10px; display: flex; align-items: center; flex-wrap: wrap;">
              <button class="solution-toggle" onclick="toggleSolution(this)">
                <span class="arrow">‚ñ∂</span>Vaata lahendust
              </button>
              <label class="done-check">
                <input type="checkbox" onchange="updateProgress()"> Tehtud
              </label>
            </div>
          </div>
        </div>
        <div class="solution">
          <div class="solution-inner">
            <div class="step green-step"><strong>1. samm:</strong> Ema palk: 840 ¬∑ 1,25 = 1050 ‚Ç¨</div>
            <div class="step green-step"><strong>2. samm:</strong> Isa uus palk: 840 ¬∑ 1,25 = 1050 ‚Ç¨. Ema uus palk: 1050 ¬∑ 0,80 = 840 ‚Ç¨</div>
            <div class="step green-step"><strong>3. samm:</strong> Kokku uus: 1050 + 840 = 1890 ‚Ç¨. Kokku vana: 840 + 1050 = 1890 ‚Ç¨</div>
            <div class="answer-box">Vastus: Kokku teenivad 1890 ‚Ç¨. Pere sissetulek ei muutunud!</div>
          </div>
        </div>
      </div>
      <!-- 2.6 -->
      <div class="card exercise">
        <div class="exercise-header">
          <div class="exercise-number">6</div>
          <div class="exercise-content">
            <p>Vannitoa p√µranda pindala on 4,8 m¬≤. P√µrand kaetakse ruudukujuliste plaatidega, mille k√ºlg on 20 cm. √úks plaat maksab 0,45 ‚Ç¨. Kui palju makstakse plaatide eest, kui kliendikaardiga saab soodustust 5%?</p>
            <span class="difficulty medium">Keskmine</span>
            <div class="hint" onclick="this.classList.toggle('revealed')">
              <span>üí° Vihje (kl√µpsa)</span>
              <div class="hint-text">Teisenda √ºks plaat ruutmeetritesse: 20 cm = 0,2 m, seega √ºhe plaadi pindala on 0,04 m¬≤. Mitu plaati mahub?</div>
            </div>
            <div style="margin-top: 10px; display: flex; align-items: center; flex-wrap: wrap;">
              <button class="solution-toggle" onclick="toggleSolution(this)">
                <span class="arrow">‚ñ∂</span>Vaata lahendust
              </button>
              <label class="done-check">
                <input type="checkbox" onchange="updateProgress()"> Tehtud
              </label>
            </div>
          </div>
        </div>
        <div class="solution">
          <div class="solution-inner">
            <div class="step green-step"><strong>1. samm:</strong> Plaadi pindala: 0,2 ¬∑ 0,2 = 0,04 m¬≤</div>
            <div class="step green-step"><strong>2. samm:</strong> Plaatide arv: 4,8 : 0,04 = 120 plaati</div>
            <div class="step green-step"><strong>3. samm:</strong> Hind ilma soodustuseta: 120 ¬∑ 0,45 = 54 ‚Ç¨</div>
            <div class="step green-step"><strong>4. samm:</strong> Soodustus 5%: 54 ¬∑ 0,05 = 2,70 ‚Ç¨</div>
            <div class="answer-box">Vastus: 54 ‚àí 2,70 = 51,30 ‚Ç¨</div>
          </div>
        </div>
      </div>
      <!-- KEERULISED √úLESANDED -->
      <!-- 2.7 -->
      <div class="card exercise">
        <div class="exercise-header">
          <div class="exercise-number">7</div>
          <div class="exercise-content">
            <p>Kaupluses t√µsteti hinda esmalt 20% ja seej√§rel alandati uut hinda 20%. Algne hind oli 150 ‚Ç¨. Kui palju maksab kaup n√º√ºd ja kas l√µpphind on sama mis algne?</p>
            <span class="difficulty hard">Keerulisem</span>
            <div class="hint" onclick="this.classList.toggle('revealed')">
              <span>üí° Vihje (kl√µpsa)</span>
              <div class="hint-text">T√µstmine 20% = korrutamine 1,20-ga. Alandamine 20% = korrutamine 0,80-ga. Arvuta samm-sammult.</div>
            </div>
            <div style="margin-top: 10px; display: flex; align-items: center; flex-wrap: wrap;">
              <button class="solution-toggle" onclick="toggleSolution(this)">
                <span class="arrow">‚ñ∂</span>Vaata lahendust
              </button>
              <label class="done-check">
                <input type="checkbox" onchange="updateProgress()"> Tehtud
              </label>
            </div>
          </div>
        </div>
        <div class="solution">
          <div class="solution-inner">
            <div class="step green-step"><strong>1. samm:</strong> P√§rast 20% t√µusu: 150 ¬∑ 1,20 = 180 ‚Ç¨</div>
            <div class="step green-step"><strong>2. samm:</strong> P√§rast 20% langust: 180 ¬∑ 0,80 = 144 ‚Ç¨</div>
            <div class="step green-step"><strong>3. samm:</strong> Vahe: 150 ‚àí 144 = 6 ‚Ç¨, mis on 4% algsest hinnast</div>
            <div class="answer-box">Vastus: Kaup maksab 144 ‚Ç¨. L√µpphind on 4% v√§iksem kui algne, sest protsent arvutatakse erinevalt baasilt!</div>
          </div>
        </div>
      </div>
      <!-- 2.8 -->
      <div class="card exercise">
        <div class="exercise-header">
          <div class="exercise-number">8</div>
          <div class="exercise-content">
            <p>Kooli rahulolu-uuringus vastas 320 √µpilasest 85%, et neile meeldib koolis. Nendest rahulolevatest 40% nimetas p√µhjuseks s√µbrad ja 35% head √µpetajad. Mitu √µpilast nimetas p√µhjuseks head √µpetajad?</p>
            <span class="difficulty hard">Keerulisem</span>
            <div class="hint" onclick="this.classList.toggle('revealed')">
              <span>üí° Vihje (kl√µpsa)</span>
              <div class="hint-text">Leia esmalt rahulolevate arv (85% koguarvust), seej√§rel arvuta 35% sellest.</div>
            </div>
            <div style="margin-top: 10px; display: flex; align-items: center; flex-wrap: wrap;">
              <button class="solution-toggle" onclick="toggleSolution(this)">
                <span class="arrow">‚ñ∂</span>Vaata lahendust
              </button>
              <label class="done-check">
                <input type="checkbox" onchange="updateProgress()"> Tehtud
              </label>
            </div>
          </div>
        </div>
        <div class="solution">
          <div class="solution-inner">
            <div class="step green-step"><strong>1. samm:</strong> Rahulolevad: 320 ¬∑ 0,85 = 272 √µpilast</div>
            <div class="step green-step"><strong>2. samm:</strong> Head √µpetajad p√µhjuseks: 272 ¬∑ 0,35 = 95,2 ‚âà 95 √µpilast</div>
            <div class="answer-box">Vastus: 95 √µpilast nimetas p√µhjuseks head √µpetajad</div>
          </div>
        </div>
      </div>
      <!-- 2.9 -->
      <div class="card exercise">
        <div class="exercise-header">
          <div class="exercise-number">9</div>
          <div class="exercise-content">
            <p>Pere igakuine elektriarvete summa kasvas jaanuarist m√§rtsini j√§rgmiselt: jaanuaris 45 ‚Ç¨, veebruaris t√µusis 20% ja m√§rtsis langes veebruari summast 10%. Kui palju maksis pere elektri eest kolme kuu jooksul kokku ja kui palju oli keskmine kuuarve?</p>
            <span class="difficulty hard">Keerulisem</span>
            <div class="hint" onclick="this.classList.toggle('revealed')">
              <span>üí° Vihje (kl√µpsa)</span>
              <div class="hint-text">Arvuta iga kuu summa eraldi. Veebruar = jaanuar ¬∑ 1,20. M√§rts = veebruar ¬∑ 0,90.</div>
            </div>
            <div style="margin-top: 10px; display: flex; align-items: center; flex-wrap: wrap;">
              <button class="solution-toggle" onclick="toggleSolution(this)">
                <span class="arrow">‚ñ∂</span>Vaata lahendust
              </button>
              <label class="done-check">
                <input type="checkbox" onchange="updateProgress()"> Tehtud
              </label>
            </div>
          </div>
        </div>
        <div class="solution">
          <div class="solution-inner">
            <div class="step green-step"><strong>1. samm:</strong> Jaanuar: 45 ‚Ç¨</div>
            <div class="step green-step"><strong>2. samm:</strong> Veebruar: 45 ¬∑ 1,20 = 54 ‚Ç¨</div>
            <div class="step green-step"><strong>3. samm:</strong> M√§rts: 54 ¬∑ 0,90 = 48,60 ‚Ç¨</div>
            <div class="step green-step"><strong>4. samm:</strong> Kokku: 45 + 54 + 48,60 = 147,60 ‚Ç¨</div>
            <div class="answer-box">Vastus: Kokku 147,60 ‚Ç¨ ja keskmine kuuarve 147,60 : 3 = 49,20 ‚Ç¨</div>
          </div>
        </div>
      </div>
    </div>
    <!--=====================3. GEOMEETRIA=====================-->
    <div class="section" id="sec-geom">
      <div class="section-header"><img src="assets/mascot-thinking.svg" class="section-icon" alt="Cat">
        <div>
          <h2>Geomeetria</h2>
          <p>Kolmnurgad,
            ruudud,
            ristk√ºlikud,
            ring ‚Äî pindala,
            √ºmberm√µ√µt,
            omadused</p>
        </div>
      </div>
      <!-- TEOORIA -->
      <div class="card theory-card"><button class="theory-toggle" onclick="toggleTheory(this)"><span
            class="icon">üìñ</span>Teooria meelespea <span class="arrow-t">‚ñº</span></button>
        <div class="theory-body">
          <div class="theory-inner">
            <h4>Pindalavalemid</h4>
            <div class="rule purple-rule">
              <strong>Ristk√ºlik</strong>
              Ristk√ºlikul on neli t√§isnurka. Vastask√ºljed on v√µrdsed: kaks pikka (a) ja kaks l√ºhikest (b).
              <br>Pindala: S = a ¬∑ b (pikkus korda laius)
              <br>√úmberm√µ√µt: P = 2 ¬∑ (a + b) (k√µigi nelja k√ºlje summa)
              <br>N√§ide: a = 8 cm, b = 3 cm ‚Üí S = 24 cm¬≤, P = 22 cm
            </div>
            <div class="rule purple-rule">
              <strong>Ruut</strong>
              Ruut on eriline ristk√ºlik, kus k√µik neli k√ºlge on v√µrdsed. K√µik nurgad on 90¬∞.
              <br>Pindala: S = a¬≤ (k√ºlg korda k√ºlg)
              <br>√úmberm√µ√µt: P = 4 ¬∑ a (neli korda k√ºlg)
              <br>N√§ide: a = 5 cm ‚Üí S = 25 cm¬≤, P = 20 cm
            </div>
            <div class="rule purple-rule">
              <strong>Kolmnurk</strong>
              Kolmnurgal on kolm k√ºlge ja kolm nurka. Nurkade summa on alati 180¬∞. K√µrgus (h) on ristl√µik alusest vastastipuni.
              <br>Pindala: S = ¬Ω ¬∑ a ¬∑ h (pool aluse ja k√µrguse korrutisest)
              <br>√úmberm√µ√µt: P = a + b + c (k√µigi kolme k√ºlje summa)
              <br>N√§ide: alus a = 10 cm, k√µrgus h = 6 cm ‚Üí S = ¬Ω ¬∑ 10 ¬∑ 6 = 30 cm¬≤
            </div>
            <div class="rule purple-rule">
              <strong>Ring</strong>
              Ringil on raadius (r) ‚Äî kaugus keskpunktist ringini, ja diameeter (d) ‚Äî kaugus √ºhelt poolt teisele l√§bi keskpunkti. Diameeter = 2 ¬∑ raadius.
              <br>Pindala: S = œÄ ¬∑ r¬≤ (œÄ ‚âà 3,14)
              <br>√úmberm√µ√µt: C = 2 ¬∑ œÄ ¬∑ r (ehk C = œÄ ¬∑ d)
              <br>N√§ide: r = 5 cm ‚Üí S = 3,14 ¬∑ 25 = 78,5 cm¬≤, C = 2 ¬∑ 3,14 ¬∑ 5 = 31,4 cm
            </div>
            <div class="rule purple-rule">
              <strong>Sektor (ringi l√µik)</strong>
              Sektor on ‚Äûpitsa viil" ‚Äî ringi osa, mille m√§√§rab keskpunkti nurk. Mida suurem nurk, seda suurem sektori osa ringist.
              <br>Pindala: S = (nurk / 360) ¬∑ œÄ ¬∑ r¬≤
              <br>Kaare pikkus: L = (nurk / 360) ¬∑ 2œÄ ¬∑ r
              <br>N√§ide: r = 6 cm, nurk = 90¬∞ ‚Üí S = (90/360) ¬∑ œÄ ¬∑ 36 = ¬º ¬∑ 113,1 = 28,3 cm¬≤
            </div>
            <h4>Kolmnurkade liigitus</h4>
            <div class="rule purple-rule">
              <strong>Nurkade j√§rgi</strong>
              Teravnurkne ‚Äî k√µik kolm nurka on v√§iksemad kui 90¬∞. K√µige ‚Äûtavalisem" kolmnurk.
              <br>T√§isnurkne ‚Äî √ºks nurk on t√§pselt 90¬∞. Siin kehtib Pythagorase teoreem!
              <br>N√ºrinurkne ‚Äî √ºks nurk on suurem kui 90¬∞ (teine kaks peavad olema teravad, sest summa = 180¬∞).
            </div>
            <div class="rule purple-rule">
              <strong>K√ºlgede j√§rgi</strong>
              V√µrdk√ºlgne ‚Äî k√µik kolm k√ºlge on v√µrdsed ja k√µik nurgad = 60¬∞. K√µige s√ºmmeetrilisem kolmnurk.
              <br>V√µrdhaarne ‚Äî kaks k√ºlge (haared) on v√µrdsed. Ka aluse juures olevad nurgad on v√µrdsed. K√µrgus alusele poolitab aluse.
              <br>Erik√ºlgne ‚Äî k√µik k√ºljed ja nurgad on erinevad.
            </div>
            <h4>Pythagorase teoreem</h4>
            <div class="rule purple-rule">
              <strong>a¬≤ + b¬≤ = c¬≤</strong>
              See on √ºks matemaatika kuulsamaid valemeid! Kehtib ainult t√§isnurkses kolmnurgas.
              <br>a ja b on kaatetid ‚Äî kaks l√ºhemat k√ºlge, mis moodustavad t√§isnurga.
              <br>c on h√ºpotenuus ‚Äî pikim k√ºlg, mis on t√§isnurga vastask√ºlg.
              <br>N√§ide: a = 3 cm, b = 4 cm ‚Üí c¬≤ = 9 + 16 = 25 ‚Üí c = 5 cm
              <br>Tagurpidi: kui tead c-d ja √ºhte kaatetit, siis teine kaatet: b¬≤ = c¬≤ ‚àí a¬≤ ‚Üí b = ‚àö(c¬≤ ‚àí a¬≤)
            </div>
            <h4>M√µ√µt√ºhikud</h4>
            <div class="rule purple-rule">
              <strong>Pikkus√ºhikud</strong>
              Iga samm korrutab/jagab 10-ga: 1 m = 10 dm = 100 cm = 1000 mm.
              <br>Teisendamisel m√µtle: suuremast √ºhikust v√§iksemasse ‚Üí korruta; v√§iksemast suuremasse ‚Üí jaga.
              <br>N√§ide: 2,5 m = 250 cm (korrutame 100-ga), 850 mm = 85 cm (jagame 10-ga).
            </div>
            <div class="rule purple-rule">
              <strong>Pindal√ºhikud</strong>
              Pindal√ºhikute teisendamisel korrutame/jagame 100-ga (sest pindala = pikkus √ó pikkus, ja 10 √ó 10 = 100).
              <br>1 m¬≤ = 100 dm¬≤ = 10 000 cm¬≤ = 1 000 000 mm¬≤
              <br>N√§ide: 3,5 m¬≤ = 35 000 cm¬≤ (korrutame 10 000-ga), 4800 cm¬≤ = 0,48 m¬≤
            </div>
            <div class="fun-fact"><strong>üî¢ Kas teadsid?</strong> Arvu œÄ v√§√§rtust on arvutatud √ºle 100 triljoni komakoha! Igap√§evaelus piisab aga vaid k√ºmnest ‚Äî sellega saaks Maa √ºmberm√µ√µtu arvutada millimeetri t√§psusega.</div>
            <div class="fun-fact"><strong>üìê Kas teadsid?</strong> Pythagorase teoreem on nime saanud Vana-Kreeka matemaatiku Pythagorase j√§rgi (umbes 570‚Äì495 eKr), kuid tegelikult teadsid seda valemit juba bab√ºloonlased 1000 aastat varem!</div>
            <div class="fun-fact"><strong>üèõÔ∏è Kas teadsid?</strong> Vana-Kreeka matemaatik Eratosthenes m√µ√µtis juba 240 eKr Maa √ºmberm√µ√µtu ‚Äî kasutades vaid kepi varju ja geomeetriat. Tema tulemus oli h√§mmastava 2% t√§psusega!</div>
          </div>
        </div>
      </div>
      <!-- KIIRTEST -->
      <div class="card quiz-card" id="quiz-geom"><button class="quiz-toggle" onclick="toggleQuiz(this)"><span
            class="icon">‚ö°</span>Kiirtest ‚Äî kontrolli oma teadmisi <span class="arrow-t">‚ñº</span></button>
        <div class="quiz-body">
          <div class="quiz-inner">
            <!-- üü¢ KERGED -->
            <p class="quiz-difficulty-label easy-label">üü¢ Kerged</p>

            <div class="quiz-q">
              <p>1. Ruudu k√ºljepikkus on 7 cm. Kui suur on selle pindala?</p>
              <div class="quiz-options">
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">A</span>28 cm¬≤</div>
                <div class="quiz-opt" onclick="checkAnswer(this, true)"><span class="marker">B</span>49 cm¬≤</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">C</span>14 cm¬≤</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">D</span>56 cm¬≤</div>
              </div>
            </div>

            <div class="quiz-q">
              <p>2. Kolmnurga nurkade summa on alati‚Ä¶</p>
              <div class="quiz-options">
                <div class="quiz-opt" onclick="checkAnswer(this, true)"><span class="marker">A</span>180¬∞</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">B</span>360¬∞</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">C</span>90¬∞</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">D</span>270¬∞</div>
              </div>
            </div>

            <div class="quiz-q">
              <p>3. Ristk√ºlik on 8 cm pikk ja 3 cm lai. Kui suur on selle √ºmberm√µ√µt?</p>
              <div class="quiz-options">
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">A</span>24 cm</div>
                <div class="quiz-opt" onclick="checkAnswer(this, true)"><span class="marker">B</span>22 cm</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">C</span>11 cm</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">D</span>48 cm</div>
              </div>
            </div>

            <!-- üü° KESKMISED -->
            <p class="quiz-difficulty-label medium-label">üü° Keskmised</p>

            <div class="quiz-q">
              <p>4. Ringi raadius on 5 cm. Kui suur on selle √ºmberm√µ√µt? (œÄ ‚âà 3,14)</p>
              <div class="quiz-options">
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">A</span>15,7 cm</div>
                <div class="quiz-opt" onclick="checkAnswer(this, true)"><span class="marker">B</span>31,4 cm</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">C</span>78,5 cm</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">D</span>25 cm</div>
              </div>
            </div>

            <div class="quiz-q">
              <p>5. T√§isnurkse kolmnurga kaatetid on 6 cm ja 8 cm. Kui pikk on h√ºpotenuus?</p>
              <div class="quiz-options">
                <div class="quiz-opt" onclick="checkAnswer(this, true)"><span class="marker">A</span>10 cm</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">B</span>14 cm</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">C</span>7 cm</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">D</span>48 cm</div>
              </div>
            </div>

            <div class="quiz-q">
              <p>6. Mitu cm¬≤ on 2,5 dm¬≤?</p>
              <div class="quiz-options">
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">A</span>25 cm¬≤</div>
                <div class="quiz-opt" onclick="checkAnswer(this, true)"><span class="marker">B</span>250 cm¬≤</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">C</span>2500 cm¬≤</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">D</span>0,25 cm¬≤</div>
              </div>
            </div>

            <!-- üî¥ RASKED -->
            <p class="quiz-difficulty-label hard-label">üî¥ Rasked</p>

            <div class="quiz-q">
              <p>7. Ringikujulisel v√§ljakul on raadius 10 m. Selle keskele rajatakse ruudukujuline purskkaev k√ºljepikkusega 4 m. Kui suur on allesj√§√§v murupind? (œÄ ‚âà 3,14)</p>
              <div class="quiz-options">
                <div class="quiz-opt" onclick="checkAnswer(this, true)"><span class="marker">A</span>298 m¬≤</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">B</span>314 m¬≤</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">C</span>300 m¬≤</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">D</span>282 m¬≤</div>
              </div>
            </div>

            <div class="quiz-q">
              <p>8. V√µrdhaarse kolmnurga alus on 10 cm ja haar 13 cm. Kui suur on selle k√µrgus alusele?</p>
              <div class="quiz-options">
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">A</span>8 cm</div>
                <div class="quiz-opt" onclick="checkAnswer(this, true)"><span class="marker">B</span>12 cm</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">C</span>11 cm</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">D</span>‚àö69 cm</div>
              </div>
            </div>

            <div class="quiz-q">
              <p>9. Kuubi serva pikkus on 5 cm. Kui suur on selle t√§ispindala?</p>
              <div class="quiz-options">
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">A</span>125 cm¬≤</div>
                <div class="quiz-opt" onclick="checkAnswer(this, true)"><span class="marker">B</span>150 cm¬≤</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">C</span>100 cm¬≤</div>
                <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">D</span>200 cm¬≤</div>
              </div>
            </div>

            <div class="quiz-result" id="quiz-geom-result">
              <div class="score"></div>
              <div class="msg"></div>
              <button class="quiz-reset" onclick="resetQuiz('quiz-geom')">Proovi uuesti</button>
            </div>
          </div>
        </div>
      </div>
      <!-- KERGED √úLESANDED -->
      <!-- 3.1 -->
      <div class="card exercise">
        <div class="exercise-header">
          <div class="exercise-number">1</div>
          <div class="exercise-content">
            <p>Ruudu k√ºljepikkus on 9 cm. Leia ruudu pindala ja √ºmberm√µ√µt.</p>
            <span class="difficulty easy">Kerge</span>
            <div class="hint" onclick="this.classList.toggle('revealed')">
              <span>üí° Vihje (kl√µpsa)</span>
              <div class="hint-text">Ruudu pindala = a¬≤. √úmberm√µ√µt = 4 ¬∑ a.</div>
            </div>
            <div style="margin-top: 10px; display: flex; align-items: center; flex-wrap: wrap;">
              <button class="solution-toggle" onclick="toggleSolution(this)">
                <span class="arrow">‚ñ∂</span>Vaata lahendust
              </button>
              <label class="done-check">
                <input type="checkbox" onchange="updateProgress()"> Tehtud
              </label>
            </div>
          </div>
        </div>
        <div class="solution">
          <div class="solution-inner">
            <div class="step purple-step"><strong>1. samm:</strong> Pindala: S = 9¬≤ = 81 cm¬≤</div>
            <div class="step purple-step"><strong>2. samm:</strong> √úmberm√µ√µt: P = 4 ¬∑ 9 = 36 cm</div>
            <div class="answer-box">Vastus: Pindala = 81 cm¬≤, √ºmberm√µ√µt = 36 cm</div>
          </div>
        </div>
      </div>
      <!-- 3.2 -->
      <div class="card exercise">
        <div class="exercise-header">
          <div class="exercise-number">2</div>
          <div class="exercise-content">
            <p>Ringi raadius on 7 cm. Leia ringi pindala ja √ºmberm√µ√µt. (œÄ ‚âà 3,14)</p>
            <span class="difficulty easy">Kerge</span>
            <div class="hint" onclick="this.classList.toggle('revealed')">
              <span>üí° Vihje (kl√µpsa)</span>
              <div class="hint-text">Pindala = œÄ ¬∑ r¬≤. √úmberm√µ√µt = 2 ¬∑ œÄ ¬∑ r.</div>
            </div>
            <div style="margin-top: 10px; display: flex; align-items: center; flex-wrap: wrap;">
              <button class="solution-toggle" onclick="toggleSolution(this)">
                <span class="arrow">‚ñ∂</span>Vaata lahendust
              </button>
              <label class="done-check">
                <input type="checkbox" onchange="updateProgress()"> Tehtud
              </label>
            </div>
          </div>
        </div>
        <div class="solution">
          <div class="solution-inner">
            <div class="step purple-step"><strong>1. samm:</strong> Pindala: S = 3,14 ¬∑ 7¬≤ = 3,14 ¬∑ 49 = 153,86 cm¬≤</div>
            <div class="step purple-step"><strong>2. samm:</strong> √úmberm√µ√µt: C = 2 ¬∑ 3,14 ¬∑ 7 = 43,96 cm</div>
            <div class="answer-box">Vastus: Pindala ‚âà 153,86 cm¬≤, √ºmberm√µ√µt ‚âà 43,96 cm</div>
          </div>
        </div>
      </div>
      <!-- 3.3 -->
      <div class="card exercise">
        <div class="exercise-header">
          <div class="exercise-number">3</div>
          <div class="exercise-content">
            <p>V√µrdhaarse kolmnurga alus on 10 cm ja haar on 13 cm. Leia kolmnurga pindala ja √ºmberm√µ√µt.</p>
            <span class="difficulty easy">Kerge</span>
            <div class="hint" onclick="this.classList.toggle('revealed')">
              <span>üí° Vihje (kl√µpsa)</span>
              <div class="hint-text">K√µrgus langeb aluse keskpunktile. Kasuta Pythagorase teoreemi: h¬≤ + 5¬≤ = 13¬≤.</div>
            </div>
            <div style="margin-top: 10px; display: flex; align-items: center; flex-wrap: wrap;">
              <button class="solution-toggle" onclick="toggleSolution(this)">
                <span class="arrow">‚ñ∂</span>Vaata lahendust
              </button>
              <label class="done-check">
                <input type="checkbox" onchange="updateProgress()"> Tehtud
              </label>
            </div>
          </div>
        </div>
        <div class="solution">
          <div class="solution-inner">
            <div class="step purple-step"><strong>1. samm:</strong> K√µrgus: h¬≤ = 13¬≤ ‚àí 5¬≤ = 169 ‚àí 25 = 144 ‚Üí h = 12 cm</div>
            <div class="step purple-step"><strong>2. samm:</strong> Pindala: S = ¬Ω ¬∑ 10 ¬∑ 12 = 60 cm¬≤</div>
            <div class="step purple-step"><strong>3. samm:</strong> √úmberm√µ√µt: P = 10 + 13 + 13 = 36 cm</div>
            <div class="answer-box">Vastus: Pindala = 60 cm¬≤, √ºmberm√µ√µt = 36 cm</div>
          </div>
        </div>
      </div>
      <!-- KESKMISED √úLESANDED -->
      <!-- 3.4 -->
      <div class="card exercise">
        <div class="exercise-header">
          <div class="exercise-number">4</div>
          <div class="exercise-content">
            <p>Reklaamtahvli pindala on 6,25 m¬≤ ning laius ‚Åµ‚ÅÑ‚ÇÜ m.</p>
            <p>a) Mitu meetrit metall-liistu l√§heb vaja tahvli √§√§ristamiseks?<br>b) Mitu korda on reklaamtahvli pikkus laiusest suurem?</p>
            <span class="difficulty medium">Keskmine</span>
            <div class="hint" onclick="this.classList.toggle('revealed')">
              <span>üí° Vihje (kl√µpsa)</span>
              <div class="hint-text">Pikkus = pindala : laius. √úmberm√µ√µt = 2 ¬∑ (pikkus + laius).</div>
            </div>
            <div style="margin-top: 10px; display: flex; align-items: center; flex-wrap: wrap;">
              <button class="solution-toggle" onclick="toggleSolution(this)">
                <span class="arrow">‚ñ∂</span>Vaata lahendust
              </button>
              <label class="done-check">
                <input type="checkbox" onchange="updateProgress()"> Tehtud
              </label>
            </div>
          </div>
        </div>
        <div class="solution">
          <div class="solution-inner">
            <div class="step purple-step"><strong>1. samm:</strong> Pikkus: a = 6,25 : ‚Åµ‚ÅÑ‚ÇÜ = 6,25 ¬∑ ‚Å∂‚ÅÑ‚ÇÖ = 7,5 m</div>
            <div class="step purple-step"><strong>2. samm:</strong> a) √úmberm√µ√µt: P = 2 ¬∑ (7,5 + ‚Åµ‚ÅÑ‚ÇÜ) = 2 ¬∑ ‚Åµ‚Å∞‚ÅÑ‚ÇÜ = ‚Åµ‚Å∞‚ÅÑ‚ÇÉ = 16 ¬≤‚ÅÑ‚ÇÉ m</div>
            <div class="step purple-step"><strong>3. samm:</strong> b) 7,5 : ‚Åµ‚ÅÑ‚ÇÜ = ¬π‚Åµ‚ÅÑ‚ÇÇ ¬∑ ‚Å∂‚ÅÑ‚ÇÖ = 9 korda</div>
            <div class="answer-box">a) 16 ¬≤‚ÅÑ‚ÇÉ m liistu &nbsp;&nbsp; b) Pikkus on 9 korda suurem</div>
          </div>
        </div>
      </div>
      <!-- 3.5 -->
      <div class="card exercise">
        <div class="exercise-header">
          <div class="exercise-number">5</div>
          <div class="exercise-content">
            <p>Liiklusm√§rgi (keelum√§rk) l√§bim√µ√µt on 600 mm. Punase r√µnga laius on 0,5 dm. Leia punase r√µnga pindala. Vastus anna 1 cm¬≤ t√§psusega.</p>
            <span class="difficulty medium">Keskmine</span>
            <div class="hint" onclick="this.classList.toggle('revealed')">
              <span>üí° Vihje (kl√µpsa)</span>
              <div class="hint-text">Teisenda k√µik √ºhikud samasse. R√µngas = suur ring ‚àí v√§ike ring. V√§ikese ringi raadius = suure raadius ‚àí r√µnga laius.</div>
            </div>
            <div style="margin-top: 10px; display: flex; align-items: center; flex-wrap: wrap;">
              <button class="solution-toggle" onclick="toggleSolution(this)">
                <span class="arrow">‚ñ∂</span>Vaata lahendust
              </button>
              <label class="done-check">
                <input type="checkbox" onchange="updateProgress()"> Tehtud
              </label>
            </div>
          </div>
        </div>
        <div class="solution">
          <div class="solution-inner">
            <div class="step purple-step"><strong>1. samm:</strong> L√§bim√µ√µt = 600 mm = 60 cm ‚Üí R = 30 cm. R√µnga laius = 0,5 dm = 5 cm ‚Üí r = 30 ‚àí 5 = 25 cm</div>
            <div class="step purple-step"><strong>2. samm:</strong> S = œÄ ¬∑ R¬≤ ‚àí œÄ ¬∑ r¬≤ = œÄ ¬∑ (900 ‚àí 625) = 275œÄ ‚âà 864 cm¬≤</div>
            <div class="answer-box">Vastus: ‚âà 864 cm¬≤</div>
          </div>
        </div>
      </div>
      <!-- 3.6 -->
      <div class="card exercise">
        <div class="exercise-header">
          <div class="exercise-number">6</div>
          <div class="exercise-content">
            <p>Toa p√µrand on ristk√ºlikukujuline m√µ√µtmetega 4,5 m √ó 3,2 m. P√µrand kaetakse parketiga, mida m√º√ºakse ruutmeetri kaupa hinnaga 18 ‚Ç¨/m¬≤. Kui palju maksab parkett kogu toale?</p>
            <span class="difficulty medium">Keskmine</span>
            <div class="hint" onclick="this.classList.toggle('revealed')">
              <span>üí° Vihje (kl√µpsa)</span>
              <div class="hint-text">Leia esmalt p√µranda pindala, siis korruta hinnaga.</div>
            </div>
            <div style="margin-top: 10px; display: flex; align-items: center; flex-wrap: wrap;">
              <button class="solution-toggle" onclick="toggleSolution(this)">
                <span class="arrow">‚ñ∂</span>Vaata lahendust
              </button>
              <label class="done-check">
                <input type="checkbox" onchange="updateProgress()"> Tehtud
              </label>
            </div>
          </div>
        </div>
        <div class="solution">
          <div class="solution-inner">
            <div class="step purple-step"><strong>1. samm:</strong> Pindala: S = 4,5 ¬∑ 3,2 = 14,4 m¬≤</div>
            <div class="step purple-step"><strong>2. samm:</strong> Hind: 14,4 ¬∑ 18 = 259,20 ‚Ç¨</div>
            <div class="answer-box">Vastus: Parkett maksab 259,20 ‚Ç¨</div>
          </div>
        </div>
      </div>
      <!-- KEERULISED √úLESANDED -->
      <!-- 3.7 -->
      <div class="card exercise">
        <div class="exercise-header">
          <div class="exercise-number">7</div>
          <div class="exercise-content">
            <p>Ruudu ABCD k√ºljepikkus on 6 cm. Ruudu sees on sektor tipuga A ja nurk ‚à†EAB = 60¬∞. Leia viirutatud osa (ruut miinus sektor) √ºmberm√µ√µt ja pindala.</p>
            <span class="difficulty hard">Keerulisem</span>
            <div class="hint" onclick="this.classList.toggle('revealed')">
              <span>üí° Vihje (kl√µpsa)</span>
              <div class="hint-text">Sektori raadius = ruudu k√ºlg = 6 cm. Sektori pindala = (nurk/360) ¬∑ œÄ ¬∑ r¬≤. √úmberm√µ√µt koosneb kolmest ruudu k√ºljest, √ºhest raadiusest ja kaarejoonest.</div>
            </div>
            <div style="margin-top: 10px; display: flex; align-items: center; flex-wrap: wrap;">
              <button class="solution-toggle" onclick="toggleSolution(this)">
                <span class="arrow">‚ñ∂</span>Vaata lahendust
              </button>
              <label class="done-check">
                <input type="checkbox" onchange="updateProgress()"> Tehtud
              </label>
            </div>
          </div>
        </div>
        <div class="solution">
          <div class="solution-inner">
            <div class="step purple-step"><strong>1. samm:</strong> Sektori pindala: S = (60/360) ¬∑ œÄ ¬∑ 6¬≤ = 6œÄ ‚âà 18,85 cm¬≤</div>
            <div class="step purple-step"><strong>2. samm:</strong> Viirutatud osa pindala: 36 ‚àí 6œÄ ‚âà 17,15 cm¬≤</div>
            <div class="step purple-step"><strong>3. samm:</strong> Kaar = (60/360) ¬∑ 2œÄ ¬∑ 6 = 2œÄ ‚âà 6,28 cm. √úmberm√µ√µt = 3 ¬∑ 6 + 2œÄ + 6 ‚âà 30,28 cm</div>
            <div class="answer-box">Vastus: Pindala ‚âà 17,15 cm¬≤, √ºmberm√µ√µt ‚âà 30,28 cm</div>
          </div>
        </div>
      </div>
      <!-- 3.8 -->
      <div class="card exercise">
        <div class="exercise-header">
          <div class="exercise-number">8</div>
          <div class="exercise-content">
            <p>Ruudu ABCD k√ºljepikkus on 4 cm. Ruudu sisse on joonestatud veerandringjoon (raadiusega 4 cm, keskpunktiga nurgas A). Leia v√§rvitud osa pindala (ala, mis j√§√§b ruudu sisse, kuid veerandringi alla). Vastus √ºmarda k√ºmnendikeni.</p>
            <span class="difficulty hard">Keerulisem</span>
            <div class="hint" onclick="this.classList.toggle('revealed')">
              <span>üí° Vihje (kl√µpsa)</span>
              <div class="hint-text">Ruudu pindala miinus veerandringi pindala annab v√§rvitud osa.</div>
            </div>
            <div style="margin-top: 10px; display: flex; align-items: center; flex-wrap: wrap;">
              <button class="solution-toggle" onclick="toggleSolution(this)">
                <span class="arrow">‚ñ∂</span>Vaata lahendust
              </button>
              <label class="done-check">
                <input type="checkbox" onchange="updateProgress()"> Tehtud
              </label>
            </div>
          </div>
        </div>
        <div class="solution">
          <div class="solution-inner">
            <div class="step purple-step"><strong>1. samm:</strong> Ruudu pindala: 4¬≤ = 16 cm¬≤</div>
            <div class="step purple-step"><strong>2. samm:</strong> Veerandringi pindala: ¬º ¬∑ œÄ ¬∑ 4¬≤ = 4œÄ ‚âà 12,566 cm¬≤</div>
            <div class="step purple-step"><strong>3. samm:</strong> V√§rvitud osa: 16 ‚àí 4œÄ ‚âà 3,434</div>
            <div class="answer-box">Vastus: ‚âà 3,4 cm¬≤</div>
          </div>
        </div>
      </div>
      <!-- 3.9 -->
      <div class="card exercise">
        <div class="exercise-header">
          <div class="exercise-number">9</div>
          <div class="exercise-content">
            <p>Ringikujulisel v√§ljakul on raadius 15 m. Selle keskele ehitatakse ristk√ºlikukujuline purskkaev m√µ√µtmetega 4 m √ó 3 m ja purskkaeva √ºmber 1 m laiune kivitee. Kui palju murupinda j√§√§b alles? (œÄ ‚âà 3,14)</p>
            <span class="difficulty hard">Keerulisem</span>
            <div class="hint" onclick="this.classList.toggle('revealed')">
              <span>üí° Vihje (kl√µpsa)</span>
              <div class="hint-text">Arvuta ringi pindala. Seej√§rel arvuta purskkaev + kivitee kogu pindala (ristk√ºlik m√µ√µtmetega 6 m √ó 5 m). Lahuta ringist.</div>
            </div>
            <div style="margin-top: 10px; display: flex; align-items: center; flex-wrap: wrap;">
              <button class="solution-toggle" onclick="toggleSolution(this)">
                <span class="arrow">‚ñ∂</span>Vaata lahendust
              </button>
              <label class="done-check">
                <input type="checkbox" onchange="updateProgress()"> Tehtud
              </label>
            </div>
          </div>
        </div>
        <div class="solution">
          <div class="solution-inner">
            <div class="step purple-step"><strong>1. samm:</strong> Ringi pindala: S = œÄ ¬∑ 15¬≤ = 225œÄ ‚âà 706,5 m¬≤</div>
            <div class="step purple-step"><strong>2. samm:</strong> Purskkaev + kivitee: (4 + 2¬∑1) √ó (3 + 2¬∑1) = 6 √ó 5 = 30 m¬≤</div>
            <div class="step purple-step"><strong>3. samm:</strong> Murupind: 706,5 ‚àí 30 = 676,5 m¬≤</div>
            <div class="answer-box">Vastus: Murupinda j√§√§b alles ‚âà 676,5 m¬≤</div>
          </div>
        </div>
      </div>
    </div>
    <!--=====================4. PROBLEEM√úLESANDED=====================-->
    <div class="section" id="sec-probleem">
      <div class="section-header"><img src="assets/mascot-celebrate.png" class="section-icon" alt="Cat"
          style="height:80px; width:auto;">
        <div>
          <h2>Probleem√ºlesanded</h2>
          <p>Tekst√ºlesanded,
            mis n√µuavad m√µistmist ja mitme sammu rakendamist</p>
        </div>
      </div>
      <!-- TEOORIA -->
      <div class="card theory-card"><button class="theory-toggle" onclick="toggleTheory(this)"><span
            class="icon">üìñ</span>Teooria meelespea <span class="arrow-t">‚ñº</span></button>
        <div class="theory-body">
          <div class="theory-inner">
            <h4>Liikumis√ºlesanded</h4>
            <div class="rule orange-rule">
              <strong>P√µhiseos: s = v ¬∑ t</strong>
              Liikumis√ºlesannete alus on kolm omavahel seotud suurust: vahemaa (s), kiirus (v) ja aeg (t). Kui tead kahte, saad alati kolmanda:
              <br>Vahemaa: s = v ¬∑ t (kiirus korda aeg)
              <br>Kiirus: v = s : t (vahemaa jagatud ajaga)
              <br>Aeg: t = s : v (vahemaa jagatud kiirusega)
              <br>N√§ide: Auto s√µidab 80 km/h 2,5 tundi ‚Üí s = 80 ¬∑ 2,5 = 200 km
              <br>NB! J√§lgi √ºhikuid: kui kiirus on km/h, peab aeg olema tundides (mitte minutites).
            </div>
            <div class="rule orange-rule">
              <strong>Aja teisendamine</strong>
              Minutid tundideks: jaga 60-ga. Tunnid minutiteks: korruta 60-ga. Hoia meeles levinumad:
              <br>15 min = 0,25 h = ¬π‚ÅÑ‚ÇÑ h
              <br>30 min = 0,5 h = ¬Ω h
              <br>45 min = 0,75 h = ¬≥‚ÅÑ‚ÇÑ h
              <br>N√§ide: 2 tundi ja 40 minutit = 2 + 40/60 = 2 + ¬≤‚ÅÑ‚ÇÉ = 2 ¬≤‚ÅÑ‚ÇÉ h = ‚Å∏‚ÅÑ‚ÇÉ h
            </div>
            <div class="rule orange-rule">
              <strong>Vastassuunast ja samasuunast liikumine</strong>
              Kui kaks liikujat s√µidavad teineteise poole, l√§henemine toimub m√µlema kiiruse summaga: l√§henemiskiirus = v‚ÇÅ + v‚ÇÇ. Nad kohtuvad, kui vahemaa on ‚Äûotsas".
              <br>Kui liiguvad samas suunas, kiirem ‚Äûp√µgeneb" aeglasemast: kaugnemiskiirus = v‚ÇÅ ‚àí v‚ÇÇ. J√§relej√µudmine t√§hendab edumaa kattamist.
              <br>N√§ide (vastamisi): Jalgrattur 20 km/h ja jalak√§ija 5 km/h ‚Üí l√§henemine 25 km/h
              <br>N√§ide (j√§relej√µudmine): Rong 150 km/h ja teine 90 km/h ‚Üí vahe kahaneb 60 km/h
            </div>
            <h4>Murdude ‚Äûkeel" tekstis</h4>
            <div class="rule orange-rule">
              <strong>Kuidas t√µlkida tekst√ºlesannet matemaatikaks?</strong>
              Probleem√ºlesannetes peidavad end murrud tihti s√µnade taga. √ïpi tundma levinumaid v√§ljendeid:
              <br>‚Äûmoodustab ¬≤‚ÅÑ‚ÇÉ" ‚Üí korruta tervikut ¬≤‚ÅÑ‚ÇÉ-ga
              <br>‚Äûon ¬≤‚ÅÑ‚ÇÉ millestki" ‚Üí korruta seda asja ¬≤‚ÅÑ‚ÇÉ-ga
              <br>‚Äû¬≤‚ÅÑ‚ÇÉ sellest, mida korjas ..." ‚Üí korruta korjatu ¬≤‚ÅÑ‚ÇÉ-ga
              <br>‚Äû√ºlej√§√§nud" ‚Üí see on 1 (tervik) miinus eelnevad osad
            </div>
            <div class="rule orange-rule">
              <strong>Terviku leidmine murru abil</strong>
              Kui tead osa ja selle murrulist suhet tervikusse, saad terviku jagamise teel. Jagamine murrega = korrutamine p√∂√∂rdarvuga.
              <br>Kui ‚ÄûA on ¬≤‚ÅÑ‚ÇÉ B-st" ja tead A-d, siis: B = A : ¬≤‚ÅÑ‚ÇÉ = A ¬∑ ¬≥‚ÅÑ‚ÇÇ
              <br>N√§ide: 24 on ¬≤‚ÅÑ‚ÇÉ B-st ‚Üí B = 24 ¬∑ ¬≥‚ÅÑ‚ÇÇ = 36
              <br>Kontroll: ¬≤‚ÅÑ‚ÇÉ ¬∑ 36 = 24 ‚úì
            </div>
            <h4>Lahendamise strateegia</h4>
            <div class="rule orange-rule">
              <strong>Neli sammu eduka lahenduseni</strong>
              Tekst√ºlesanded n√µuavad s√ºstemaatilist l√§henemist. J√§rgi alati sama nelja sammu:
              <br>1) Loe tekst hoolikalt l√§bi ja t√µsta esile k√µik arvandmed (t√µmba alla v√µi kirjuta v√§lja).
              <br>2) Joonista skeem, joonis v√µi koosta tabel ‚Äî visualiseerimine aitab √ºlesandest aru saada.
              <br>3) S√µnasta selgelt k√ºsimus: mida on vaja leida? Missugune suurus on tundmatu?
              <br>4) Lahenda samm-sammult, kirjutades iga vahetulemus v√§lja. L√µpus kontrolli: kas vastus on m√µistlik? Kas √ºhikud klapivad?
            </div>
            <div class="rule orange-rule">
              <strong>T√º√ºpilised l√µksud</strong>
              J√§lgi neid sagedasi vigu:
              <br>‚Ä¢ √úhikute segaminek: km ja m, tunnid ja minutid, cm¬≤ ja m¬≤ ‚Äî teisenda alati enne arvutamist!
              <br>‚Ä¢ ‚Äû√úlej√§√§nud" unustamine: kui ¬≤‚ÅÑ‚ÇÖ on l√§bitud, siis √ºlej√§√§nud on ¬≥‚ÅÑ‚ÇÖ, mitte ¬≤‚ÅÑ‚ÇÖ.
              <br>‚Ä¢ √úmardamine liiga vara: √ºmarda alles l√µppvastuses, mitte vahetulemustes.
            </div>
            <div class="fun-fact"><strong>üìú Kas teadsid?</strong> Esimesed teadaolevad matemaatilised tekst√ºlesanded p√§rinevad √ºle 4000 aasta vanusest Bab√ºloonia savitahvlilt. Seal arvutati juba kanali kaevamise kiirust ja viljakoristuse aega!</div>
            <div class="fun-fact"><strong>üöÇ Kas teadsid?</strong> Kuulus ‚Äûrongide √ºlesanne" ‚Äî kaks rongi s√µidavad teineteise poole ‚Äî ilmus esmakordselt 1850. aastal Euroopa kooli√µpikutesse ja on siiani √ºks levinumaid eksami√ºlesandeid maailmas!</div>
            <div class="fun-fact"><strong>üß† Kas teadsid?</strong> Uuringud n√§itavad, et joonise tegemine √ºlesande juurde t√µstab √µige vastuse t√µen√§osust kuni 30%! Isegi lihtne skeem aitab infot paremini m√µista.</div>
          </div>
        </div>
      </div>
      <!-- KIIRTEST -->
        <div class="card quiz-card" id="quiz-probleem"><button class="quiz-toggle" onclick="toggleQuiz(this)"><span
              class="icon">‚ö°</span>Kiirtest ‚Äî kontrolli oma teadmisi
            <span class="arrow-t">‚ñº</span></button>
          <div class="quiz-body">
            <div class="quiz-inner">
              <!-- üü¢ KERGED -->
              <p class="quiz-difficulty-label easy-label">üü¢ Kerged</p>

              <div class="quiz-q">
                <p>1. Auto s√µidab kiirusega 60 km/h. Kui kaugele j√µuab ta 2 tunniga?</p>
                <div class="quiz-options">
                  <div class="quiz-opt" onclick="checkAnswer(this, true)"><span class="marker">A</span>120 km</div>
                  <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">B</span>62 km</div>
                  <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">C</span>180 km</div>
                  <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">D</span>30 km</div>
                </div>
              </div>

              <div class="quiz-q">
                <p>2. 45 minutit on tundides‚Ä¶</p>
                <div class="quiz-options">
                  <div class="quiz-opt" onclick="checkAnswer(this, true)"><span class="marker">A</span>0,75 h</div>
                  <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">B</span>0,45 h</div>
                  <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">C</span>0,67 h</div>
                  <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">D</span>0,80 h</div>
                </div>
              </div>

              <div class="quiz-q">
                <p>3. Poes on 120 √µuna. ¬π‚ÅÑ‚ÇÑ neist on punased. Mitu punast √µuna on?</p>
                <div class="quiz-options">
                  <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">A</span>40</div>
                  <div class="quiz-opt" onclick="checkAnswer(this, true)"><span class="marker">B</span>30</div>
                  <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">C</span>24</div>
                  <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">D</span>48</div>
                </div>
              </div>

              <!-- üü° KESKMISED -->
              <p class="quiz-difficulty-label medium-label">üü° Keskmised</p>

              <div class="quiz-q">
                <p>4. Kaks jooksjat jooksevad teineteise poole kiirusega 8 km/h ja 12 km/h. Kui kiiresti nad l√§henevad?</p>
                <div class="quiz-options">
                  <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">A</span>4 km/h</div>
                  <div class="quiz-opt" onclick="checkAnswer(this, true)"><span class="marker">B</span>20 km/h</div>
                  <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">C</span>10 km/h</div>
                  <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">D</span>96 km/h</div>
                </div>
              </div>

              <div class="quiz-q">
                <p>5. Jalgrattur s√µitis 36 km 1,5 tunniga. Milline oli tema keskmine kiirus?</p>
                <div class="quiz-options">
                  <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">A</span>18 km/h</div>
                  <div class="quiz-opt" onclick="checkAnswer(this, true)"><span class="marker">B</span>24 km/h</div>
                  <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">C</span>54 km/h</div>
                  <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">D</span>20 km/h</div>
                </div>
              </div>

              <div class="quiz-q">
                <p>6. Mariliis korjas 18 marja, mis on ¬≥‚ÅÑ‚ÇÖ Anneli saagist. Mitu marja korjas Anneli?</p>
                <div class="quiz-options">
                  <div class="quiz-opt" onclick="checkAnswer(this, true)"><span class="marker">A</span>30</div>
                  <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">B</span>27</div>
                  <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">C</span>10,8</div>
                  <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">D</span>24</div>
                </div>
              </div>

              <!-- üî¥ RASKED -->
              <p class="quiz-difficulty-label hard-label">üî¥ Rasked</p>

              <div class="quiz-q">
                <p>7. Rong s√µitis esimesed 2 tundi kiirusega 90 km/h ja j√§rgmised 3 tundi kiirusega 60 km/h. Milline oli keskmine kiirus kogu teekonnal?</p>
                <div class="quiz-options">
                  <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">A</span>75 km/h</div>
                  <div class="quiz-opt" onclick="checkAnswer(this, true)"><span class="marker">B</span>72 km/h</div>
                  <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">C</span>80 km/h</div>
                  <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">D</span>70 km/h</div>
                </div>
              </div>

              <div class="quiz-q">
                <p>8. N√µu mahutab 12 liitrit. See t√§idetakse esmalt ¬≤‚ÅÑ‚ÇÉ ulatuses ja siis valatakse pool t√§idetust v√§lja. Kui palju vett on n√µus?</p>
                <div class="quiz-options">
                  <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">A</span>2 l</div>
                  <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">B</span>6 l</div>
                  <div class="quiz-opt" onclick="checkAnswer(this, true)"><span class="marker">C</span>4 l</div>
                  <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">D</span>3 l</div>
                </div>
              </div>

              <div class="quiz-q">
                <p>9. Isa on 3 korda vanem kui poeg. Nelja aasta p√§rast on isa 2,5 korda vanem. Kui vana on poeg praegu?</p>
                <div class="quiz-options">
                  <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">A</span>6 aastat</div>
                  <div class="quiz-opt" onclick="checkAnswer(this, true)"><span class="marker">B</span>8 aastat</div>
                  <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">C</span>10 aastat</div>
                  <div class="quiz-opt" onclick="checkAnswer(this, false)"><span class="marker">D</span>12 aastat</div>
                </div>
              </div>

              <div class="quiz-result" id="quiz-probleem-result">
                <div class="score"></div>
                <div class="msg"></div>
                <button class="quiz-reset" onclick="resetQuiz('quiz-probleem')">Proovi uuesti</button>
              </div>
            </div>
          </div>
        </div>
      <!-- KERGED √úLESANDED -->
      <!-- 4.1 -->
      <div class="card exercise">
        <div class="exercise-header">
          <div class="exercise-number">1</div>
          <div class="exercise-content">
            <p>Auto s√µidab kiirusega 80 km/h. Kui kaugele j√µuab auto 2 tunni ja 30 minutiga?</p>
            <span class="difficulty easy">Kerge</span>
            <div class="hint" onclick="this.classList.toggle('revealed')">
              <span>üí° Vihje (kl√µpsa)</span>
              <div class="hint-text">Teisenda aeg tundideks: 2 h 30 min = 2,5 h. Vahemaa = kiirus ¬∑ aeg.</div>
            </div>
            <div style="margin-top: 10px; display: flex; align-items: center; flex-wrap: wrap;">
              <button class="solution-toggle" onclick="toggleSolution(this)">
                <span class="arrow">‚ñ∂</span>Vaata lahendust
              </button>
              <label class="done-check">
                <input type="checkbox" onchange="updateProgress()"> Tehtud
              </label>
            </div>
          </div>
        </div>
        <div class="solution">
          <div class="solution-inner">
            <div class="step orange-step"><strong>1. samm:</strong> Aeg tundides: 2 h 30 min = 2,5 h</div>
            <div class="step orange-step"><strong>2. samm:</strong> Vahemaa: s = 80 ¬∑ 2,5 = 200 km</div>
            <div class="answer-box">Vastus: Auto j√µuab 200 km kaugusele</div>
          </div>
        </div>
      </div>
      <!-- 4.2 -->
      <div class="card exercise">
        <div class="exercise-header">
          <div class="exercise-number">2</div>
          <div class="exercise-content">
            <p>36 kommi jagatakse kolme lapse vahel nii, et vanim saab pool, keskmine kolmandiku ja noorim √ºlej√§√§nu. Mitu kommi saab iga√ºks?</p>
            <span class="difficulty easy">Kerge</span>
            <div class="hint" onclick="this.classList.toggle('revealed')">
              <span>üí° Vihje (kl√µpsa)</span>
              <div class="hint-text">Arvuta esmalt vanima ja keskmise osa, siis lahuta koguarvust.</div>
            </div>
            <div style="margin-top: 10px; display: flex; align-items: center; flex-wrap: wrap;">
              <button class="solution-toggle" onclick="toggleSolution(this)">
                <span class="arrow">‚ñ∂</span>Vaata lahendust
              </button>
              <label class="done-check">
                <input type="checkbox" onchange="updateProgress()"> Tehtud
              </label>
            </div>
          </div>
        </div>
        <div class="solution">
          <div class="solution-inner">
            <div class="step orange-step"><strong>1. samm:</strong> Vanim: 36 ¬∑ ¬Ω = 18 kommi</div>
            <div class="step orange-step"><strong>2. samm:</strong> Keskmine: 36 ¬∑ ¬π‚ÅÑ‚ÇÉ = 12 kommi</div>
            <div class="step orange-step"><strong>3. samm:</strong> Noorim: 36 ‚àí 18 ‚àí 12 = 6 kommi</div>
            <div class="answer-box">Vastus: Vanim saab 18, keskmine 12 ja noorim 6 kommi</div>
          </div>
        </div>
      </div>
      <!-- 4.3 -->
      <div class="card exercise">
        <div class="exercise-header">
          <div class="exercise-number">3</div>
          <div class="exercise-content">
            <p>Kolm s√µpra korjavad seeni. Aivar korjas 24 seent, mis on ¬≤‚ÅÑ‚ÇÉ Berto seenesaagist. Berto korjas omakorda ¬≥‚ÅÑ‚ÇÑ sellest, mida korjas Cecilia. Mitu seent korjasid nad kokku?</p>
            <span class="difficulty easy">Kerge</span>
            <div class="hint" onclick="this.classList.toggle('revealed')">
              <span>üí° Vihje (kl√µpsa)</span>
              <div class="hint-text">Kui Aivar on ¬≤‚ÅÑ‚ÇÉ Bertost, siis Berto = Aivar : ¬≤‚ÅÑ‚ÇÉ = Aivar ¬∑ ¬≥‚ÅÑ‚ÇÇ.</div>
            </div>
            <div style="margin-top: 10px; display: flex; align-items: center; flex-wrap: wrap;">
              <button class="solution-toggle" onclick="toggleSolution(this)">
                <span class="arrow">‚ñ∂</span>Vaata lahendust
              </button>
              <label class="done-check">
                <input type="checkbox" onchange="updateProgress()"> Tehtud
              </label>
            </div>
          </div>
        </div>
        <div class="solution">
          <div class="solution-inner">
            <div class="step orange-step"><strong>1. samm:</strong> Berto: 24 = ¬≤‚ÅÑ‚ÇÉ ¬∑ B ‚Üí B = 24 ¬∑ ¬≥‚ÅÑ‚ÇÇ = 36 seent</div>
            <div class="step orange-step"><strong>2. samm:</strong> Cecilia: 36 = ¬≥‚ÅÑ‚ÇÑ ¬∑ C ‚Üí C = 36 ¬∑ ‚Å¥‚ÅÑ‚ÇÉ = 48 seent</div>
            <div class="answer-box">Vastus: 24 + 36 + 48 = 108 seent kokku</div>
          </div>
        </div>
      </div>
      <!-- KESKMISED √úLESANDED -->
      <!-- 4.4 -->
      <div class="card exercise">
        <div class="exercise-header">
          <div class="exercise-number">4</div>
          <div class="exercise-content">
            <p>Kooli s√∂√∂klas on lauas 8 kohta. L√µunat s√∂√∂b 120 √µpilast.</p>
            <p>a) Mitu lauda on s√∂√∂klas v√§hemalt vaja?<br>b) Mitu vahetust on vaja, et k√µik 120 √µpilast saaksid s√º√ºa, kui s√∂√∂klas on 6 lauda?</p>
            <span class="difficulty medium">Keskmine</span>
            <div class="hint" onclick="this.classList.toggle('revealed')">
              <span>üí° Vihje (kl√µpsa)</span>
              <div class="hint-text">a) Jaga √µpilaste arv kohtade arvuga. b) Arvuta, mitu √µpilast mahub korraga, siis jaga koguarv sellega.</div>
            </div>
            <div style="margin-top: 10px; display: flex; align-items: center; flex-wrap: wrap;">
              <button class="solution-toggle" onclick="toggleSolution(this)">
                <span class="arrow">‚ñ∂</span>Vaata lahendust
              </button>
              <label class="done-check">
                <input type="checkbox" onchange="updateProgress()"> Tehtud
              </label>
            </div>
          </div>
        </div>
        <div class="solution">
          <div class="solution-inner">
            <div class="step orange-step"><strong>1. samm:</strong> a) 120 : 8 = 15 lauda v√§hemalt</div>
            <div class="step orange-step"><strong>2. samm:</strong> b) 6 lauda √ó 8 kohta = 48 √µpilast korraga</div>
            <div class="step orange-step"><strong>3. samm:</strong> 120 : 48 = 2,5 ‚Üí Vaja on 3 vahetust</div>
            <div class="answer-box">a) 15 lauda &nbsp;&nbsp; b) 3 vahetust</div>
          </div>
        </div>
      </div>
      <!-- 4.5 -->
      <div class="card exercise">
        <div class="exercise-header">
          <div class="exercise-number">5</div>
          <div class="exercise-content">
            <p>Kahe linna vahel on 180 km. √úhest linnast alustab jalgrattur kiirusega 20 km/h ja teisest linnast samal ajal jalak√§ija kiirusega 5 km/h. Nad liiguvad teineteise poole.</p>
            <p>a) Mitme tunni p√§rast nad kohtuvad?<br>b) Kui kaugel kohtumispunktist on kumbki linn?</p>
            <span class="difficulty medium">Keskmine</span>
            <div class="hint" onclick="this.classList.toggle('revealed')">
              <span>üí° Vihje (kl√µpsa)</span>
              <div class="hint-text">Vastassuunast liikudes kiirused liituvad. L√§henemiskiirus = 20 + 5 = 25 km/h.</div>
            </div>
            <div style="margin-top: 10px; display: flex; align-items: center; flex-wrap: wrap;">
              <button class="solution-toggle" onclick="toggleSolution(this)">
                <span class="arrow">‚ñ∂</span>Vaata lahendust
              </button>
              <label class="done-check">
                <input type="checkbox" onchange="updateProgress()"> Tehtud
              </label>
            </div>
          </div>
        </div>
        <div class="solution">
          <div class="solution-inner">
            <div class="step orange-step"><strong>1. samm:</strong> L√§henemiskiirus: 20 + 5 = 25 km/h</div>
            <div class="step orange-step"><strong>2. samm:</strong> Aeg: 180 : 25 = 7,2 h = 7 h 12 min</div>
            <div class="step orange-step"><strong>3. samm:</strong> Jalgrattur: 20 ¬∑ 7,2 = 144 km. Jalak√§ija: 5 ¬∑ 7,2 = 36 km</div>
            <div class="answer-box">a) 7 h 12 min p√§rast &nbsp;&nbsp; b) Rattur 144 km, jalak√§ija 36 km oma linnast</div>
          </div>
        </div>
      </div>
      <!-- 4.6 -->
      <div class="card exercise">
        <div class="exercise-header">
          <div class="exercise-number">6</div>
          <div class="exercise-content">
            <p>Kaks kraani t√§idavad basseini. Esimene kraan t√§idab basseini 6 tunniga, teine 4 tunniga. Kui kaua l√§heb aega basseini t√§itmiseks, kui m√µlemad kraanid on korraga avatud?</p>
            <span class="difficulty medium">Keskmine</span>
            <div class="hint" onclick="this.classList.toggle('revealed')">
              <span>üí° Vihje (kl√µpsa)</span>
              <div class="hint-text">Esimene kraan t√§idab tunnis ¬π‚ÅÑ‚ÇÜ basseinist, teine ¬π‚ÅÑ‚ÇÑ. Kokku tunnis: ¬π‚ÅÑ‚ÇÜ + ¬π‚ÅÑ‚ÇÑ.</div>
            </div>
            <div style="margin-top: 10px; display: flex; align-items: center; flex-wrap: wrap;">
              <button class="solution-toggle" onclick="toggleSolution(this)">
                <span class="arrow">‚ñ∂</span>Vaata lahendust
              </button>
              <label class="done-check">
                <input type="checkbox" onchange="updateProgress()"> Tehtud
              </label>
            </div>
          </div>
        </div>
        <div class="solution">
          <div class="solution-inner">
            <div class="step orange-step"><strong>1. samm:</strong> Esimene kraan: ¬π‚ÅÑ‚ÇÜ basseinist tunnis. Teine: ¬π‚ÅÑ‚ÇÑ tunnis.</div>
            <div class="step orange-step"><strong>2. samm:</strong> Kokku tunnis: ¬π‚ÅÑ‚ÇÜ + ¬π‚ÅÑ‚ÇÑ = ¬≤‚ÅÑ‚ÇÅ‚ÇÇ + ¬≥‚ÅÑ‚ÇÅ‚ÇÇ = ‚Åµ‚ÅÑ‚ÇÅ‚ÇÇ</div>
            <div class="step orange-step"><strong>3. samm:</strong> Aeg: 1 : ‚Åµ‚ÅÑ‚ÇÅ‚ÇÇ = ¬π¬≤‚ÅÑ‚ÇÖ = 2,4 h = 2 h 24 min</div>
            <div class="answer-box">Vastus: Basseini t√§itmine v√µtab 2 tundi ja 24 minutit</div>
          </div>
        </div>
      </div>
      <!-- KEERULISED √úLESANDED -->
      <!-- 4.7 -->
      <div class="card exercise">
        <div class="exercise-header">
          <div class="exercise-number">7</div>
          <div class="exercise-content">
            <p>Auto s√µitis kokku 360 km, l√§bides ‚Åµ‚ÅÑ‚Çâ vahemaast ajaga 2 tundi ja 40 minutit. Halbade ilmastikuolude t√µttu langes auto keskmine kiirus √ºlej√§√§nud osal ¬π‚ÅÑ‚ÇÉ v√µrra. Kui palju aega kulus autol √ºlej√§√§nud osa l√§bimiseks?</p>
            <span class="difficulty hard">Keerulisem</span>
            <div class="hint" onclick="this.classList.toggle('revealed')">
              <span>üí° Vihje (kl√µpsa)</span>
              <div class="hint-text">Leia esmalt esimese osa vahemaa ja kiirus. Siis arvuta uus (v√§henenud) kiirus ja √ºlej√§√§nud vahemaa.</div>
            </div>
            <div style="margin-top: 10px; display: flex; align-items: center; flex-wrap: wrap;">
              <button class="solution-toggle" onclick="toggleSolution(this)">
                <span class="arrow">‚ñ∂</span>Vaata lahendust
              </button>
              <label class="done-check">
                <input type="checkbox" onchange="updateProgress()"> Tehtud
              </label>
            </div>
          </div>
        </div>
        <div class="solution">
          <div class="solution-inner">
            <div class="step orange-step"><strong>1. samm:</strong> Esimene osa: ‚Åµ‚ÅÑ‚Çâ ¬∑ 360 = 200 km. Aeg: 2 h 40 min = ‚Å∏‚ÅÑ‚ÇÉ h. Kiirus: 200 : ‚Å∏‚ÅÑ‚ÇÉ = 75 km/h</div>
            <div class="step orange-step"><strong>2. samm:</strong> √úlej√§√§nud: 360 ‚àí 200 = 160 km. Uus kiirus: 75 ‚àí ¬π‚ÅÑ‚ÇÉ ¬∑ 75 = 50 km/h</div>
            <div class="step orange-step"><strong>3. samm:</strong> Aeg: 160 : 50 = 3,2 h = 3 h 12 min</div>
            <div class="answer-box">Vastus: √úlej√§√§nud osa l√§bimiseks kulus 3 tundi ja 12 minutit</div>
          </div>
        </div>
      </div>
      <!-- 4.8 -->
      <div class="card exercise">
        <div class="exercise-header">
          <div class="exercise-number">8</div>
          <div class="exercise-content">
            <p>Isa on praegu 3 korda vanem kui poeg. 12 aasta p√§rast on isa 2 korda vanem kui poeg. Kui vanad on isa ja poeg praegu?</p>
            <span class="difficulty hard">Keerulisem</span>
            <div class="hint" onclick="this.classList.toggle('revealed')">
              <span>üí° Vihje (kl√µpsa)</span>
              <div class="hint-text">T√§hista poja vanus x-ga. Siis isa vanus = 3x. 12 aasta p√§rast: 3x + 12 = 2 ¬∑ (x + 12).</div>
            </div>
            <div style="margin-top: 10px; display: flex; align-items: center; flex-wrap: wrap;">
              <button class="solution-toggle" onclick="toggleSolution(this)">
                <span class="arrow">‚ñ∂</span>Vaata lahendust
              </button>
              <label class="done-check">
                <input type="checkbox" onchange="updateProgress()"> Tehtud
              </label>
            </div>
          </div>
        </div>
        <div class="solution">
          <div class="solution-inner">
            <div class="step orange-step"><strong>1. samm:</strong> Olgu poja vanus = x. Siis isa vanus = 3x.</div>
            <div class="step orange-step"><strong>2. samm:</strong> 12 aasta p√§rast: 3x + 12 = 2 ¬∑ (x + 12)</div>
            <div class="step orange-step"><strong>3. samm:</strong> 3x + 12 = 2x + 24 ‚Üí x = 12</div>
            <div class="answer-box">Vastus: Poeg on 12-aastane ja isa on 36-aastane</div>
          </div>
        </div>
      </div>
      <!-- 4.9 -->
      <div class="card exercise">
        <div class="exercise-header">
          <div class="exercise-number">9</div>
          <div class="exercise-content">
            <p>Rong v√§ljub linnast A kell 8:00 kiirusega 90 km/h. Kell 9:30 v√§ljub samast linnast kiirong kiirusega 150 km/h sama marsruuti m√∂√∂da. Mis kellaks kiirong esimese rongi k√§tte j√µuab ja kui kaugel linnast A see toimub?</p>
            <span class="difficulty hard">Keerulisem</span>
            <div class="hint" onclick="this.classList.toggle('revealed')">
              <span>üí° Vihje (kl√µpsa)</span>
              <div class="hint-text">Esimene rong on kell 9:30-ks juba 1,5 h s√µitnud. Arvuta tema edumaa. Seej√§rel leia, kui kiiresti kiirong vahe kinni teeb.</div>
            </div>
            <div style="margin-top: 10px; display: flex; align-items: center; flex-wrap: wrap;">
              <button class="solution-toggle" onclick="toggleSolution(this)">
                <span class="arrow">‚ñ∂</span>Vaata lahendust
              </button>
              <label class="done-check">
                <input type="checkbox" onchange="updateProgress()"> Tehtud
              </label>
            </div>
          </div>
        </div>
        <div class="solution">
          <div class="solution-inner">
            <div class="step orange-step"><strong>1. samm:</strong> Esimese rongi edumaa kell 9:30: 90 ¬∑ 1,5 = 135 km</div>
            <div class="step orange-step"><strong>2. samm:</strong> Kiirrongi l√§henemine: 150 ‚àí 90 = 60 km/h kiiremini</div>
            <div class="step orange-step"><strong>3. samm:</strong> Aeg j√§relej√µudmiseks: 135 : 60 = 2,25 h = 2 h 15 min</div>
            <div class="step orange-step"><strong>4. samm:</strong> Kellaaeg: 9:30 + 2:15 = 11:45. Kaugus: 150 ¬∑ 2,25 = 337,5 km</div>
            <div class="answer-box">Vastus: Kiirong j√µuab esimese rongi k√§tte kell 11:45, 337,5 km kaugusel linnast A</div>
          </div>
        </div>
      </div>
    </div>
    <footer>
      <p>7. klassi matemaatika sisseastumiseksami harjutusmaterjal</p>
      <p style="margin-top: 6px; font-size: 0.9rem; font-weight: 700; color: var(--primary);">
        Matemaatikakass usub sinusse ! üò∫</p><img src="assets/mascot-happy.png" style="width: 60px; margin-top: 10px;"
        alt="Mascot">
    </footer>
  </div>
  <!-- Kassiabiline -->
    <div class="cat-helper" id="cat-helper" onclick="changeCatMessage()"><button class="close-cat"
        onclick="event.stopPropagation(); document.getElementById('cat-helper').style.display='none';">‚úï</button><img
        src="assets/mascot-happy.png" class="cat-face-img" style="width: 50px; height: 50px; object-fit: contain;"
        alt="Cat">
      <div class="cat-msg" id="cat-msg">Tere ! Ma olen Matemaatikakass. Kliki mind,
        kui vajad julgustust ! üêæ</div>
    </div>
    <!-- Konfetid -->
      <div class="confetti-container" id="confetti-container"></div>
      <script> // Tab navigation

        document.querySelectorAll('.nav-tab').forEach(tab => {
          tab.addEventListener('click', () => {
            document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            tab.classList.add('active');
            document.getElementById(tab.dataset.section).classList.add('active');
          });
        });

        // Toggle solution
        function toggleSolution(btn) {
          btn.classList.toggle('open');
          const solution = btn.closest('.exercise').querySelector('.solution');
          solution.classList.toggle('open');
          btn.innerHTML = solution.classList.contains('open') ? '<span class="arrow" style="transform:rotate(90deg)">‚ñ∂</span> Peida lahendus'
            : '<span class="arrow">‚ñ∂</span> Vaata lahendust';
        }

        // Toggle theory
        function toggleTheory(btn) {
          btn.classList.toggle('open');
          btn.nextElementSibling.classList.toggle('open');
        }

        // Toggle quiz
        function toggleQuiz(btn) {
          btn.classList.toggle('open');
          btn.nextElementSibling.classList.toggle('open');
        }

        // Progress tracking
        function updateProgress() {
          const total = document.querySelectorAll('.done-check input').length;
          const done = document.querySelectorAll('.done-check input:checked').length;
          document.getElementById('progress-text').textContent = done + ' / ' + total;
          document.getElementById('progress-fill').style.width = (done / total * 100) + '%';
        }

        // Quiz logic
        function checkAnswer(opt, isCorrect) {
          const q = opt.closest('.quiz-q');
          if (q.classList.contains('answered')) return;
          q.classList.add('answered');

          // Mark all options
          q.querySelectorAll('.quiz-opt').forEach(o => {
            o.classList.add('disabled');
          });

          if (isCorrect) {
            opt.classList.add('correct');
            opt.querySelector('.marker').textContent = '‚úì';
          }

          else {
            opt.classList.add('wrong');
            opt.querySelector('.marker').textContent = '‚úó';

            // Show correct answer
            q.querySelectorAll('.quiz-opt').forEach(o => {
              if (o !== opt && o.getAttribute('onclick').includes('true')) {
                o.classList.add('correct');
                o.querySelector('.marker').textContent = '‚úì';
              }
            });
          }

          // Check if all questions in this quiz are answered
          const quizBlock = q.closest('.quiz-card');
          const allQ = quizBlock.querySelectorAll('.quiz-q');
          const answeredQ = quizBlock.querySelectorAll('.quiz-q.answered');

          if (allQ.length === answeredQ.length) {
            const correctCount = quizBlock.querySelectorAll('.quiz-opt.correct:not(.wrong)').length;
            // Count only questions where the user picked correctly
            let userCorrect = 0;

            answeredQ.forEach(aq => {
              const opts = aq.querySelectorAll('.quiz-opt');

              opts.forEach(o => {
                if (o.classList.contains('correct') && !o.classList.contains('wrong') && o.getAttribute('onclick').includes('true') && !aq.querySelector('.quiz-opt.wrong')) {
                  userCorrect++;
                }
              });
            });

            // Simpler count: questions without a .wrong option = user got it right
            userCorrect = 0;

            answeredQ.forEach(aq => {
              if (!aq.querySelector('.quiz-opt.wrong')) userCorrect++;
            });

            const resultEl = quizBlock.querySelector('.quiz-result');
            const scoreEl = resultEl.querySelector('.score');
            const msgEl = resultEl.querySelector('.msg');

            scoreEl.textContent = userCorrect + ' / ' + allQ.length;

            if (userCorrect === allQ.length) {
              scoreEl.className = 'score good';
              msgEl.textContent = 'Suurep√§rane! K√µik √µige! üéâ';
            }

            else if (userCorrect >= Math.ceil(allQ.length * 0.6)) {
              scoreEl.className = 'score ok';
              msgEl.textContent = 'Tubli! Vaata eksitud kohad √ºle ja proovi uuesti.';
            }

            else {
              scoreEl.className = 'score bad';
              msgEl.textContent = 'Vaata teooria meelespea uuesti √ºle ja proovi siis uuesti!';
            }

            resultEl.style.display = 'block';
          }
        }

        function resetQuiz(quizId) {
          const quiz = document.getElementById(quizId);

          quiz.querySelectorAll('.quiz-q').forEach(q => {
            q.classList.remove('answered');

            q.querySelectorAll('.quiz-opt').forEach(o => {
              o.classList.remove('correct', 'wrong', 'disabled');
              o.querySelector('.marker').textContent = o.querySelector('.marker').textContent;
            });
          });
          const markers = ['A',
            'B',
            'C',
            'D'];

          quiz.querySelectorAll('.quiz-q').forEach(q => {
            q.querySelectorAll('.quiz-opt').forEach((o, i) => {
              o.querySelector('.marker').textContent = markers[i];
            });
          });
          quiz.querySelector('.quiz-result').style.display = 'none';
          // Eemalda kassi-reaktsioonid
          quiz.querySelectorAll('.cat-reaction').forEach(r => r.remove());
        }

        // ===== GAMIFICATION =====
        const GAME = {

          xp: 0,
          level: 1,
          streak: 0,
          bestStreak: 0,
          quizCorrect: 0,
          quizTotal: 0,
          exercisesDone: 0,
          theoriesOpened: 0,
          achievements: {}

          ,
          hintsUsed: 0,
        }

          ;

        const LEVELS = [{
          xp: 0, name: 'Kassipojake', cat: 'üê±'
        }

          ,
        {
          xp: 100, name: 'Uudishimulik kass', cat: 'üò∫'
        }

          ,
        {
          xp: 250, name: 'Tark kass', cat: 'üò∏'
        }

          ,
        {
          xp: 450, name: 'Matemaatikakass', cat: 'üòª'
        }

          ,
        {
          xp: 700, name: 'Professor Kass', cat: 'üéì'
        }

          ,
        {
          xp: 1000, name: 'Kassi-geenius', cat: 'üëë'
        }

          ,
        {
          xp: 1400, name: 'Legendaarne kass', cat: 'üåü'
        }

          ,
        ];

        const ACHIEVEMENTS = [{
          id: 'first_exercise', icon: 'üêæ', name: 'Esimene samm', desc: 'Lahenda esimene √ºlesanne', check: () => GAME.exercisesDone >= 1
        }

          ,
        {
          id: 'five_exercises', icon: '‚≠ê', name: 'Viis t√ºkki!', desc: 'Lahenda 5 √ºlesannet', check: () => GAME.exercisesDone >= 5
        }

          ,
        {
          id: 'all_exercises', icon: 'üëë', name: 'K√µik tehtud!', desc: 'Lahenda k√µik 17 √ºlesannet', check: () => GAME.exercisesDone >= 17
        }

          ,
        {
          id: 'first_quiz', icon: '‚ö°', name: 'Kiirreageerija', desc: 'Vasta esimesele viktoriinik.', check: () => GAME.quizTotal >= 1
        }

          ,
        {
          id: 'quiz_master', icon: 'üèÜ', name: 'Viktoriinikass', desc: 'Vasta k√µigile 20-le k√ºsimusele', check: () => GAME.quizTotal >= 20
        }

          ,
        {
          id: 'perfect_quiz', icon: 'üíé', name: 'T√§iuslik!', desc: 'Saa viktoriinil k√µik √µigeks', check: () => GAME.quizCorrect >= 20 && GAME.quizTotal >= 20
        }

          ,
        {
          id: 'streak_3', icon: 'üî•', name: 'Tulirida!', desc: '3 √µiget vastust j√§rjest', check: () => GAME.bestStreak >= 3
        }

          ,
        {
          id: 'streak_5', icon: 'üí•', name: 'Tulepall!', desc: '5 √µiget vastust j√§rjest', check: () => GAME.bestStreak >= 5
        }

          ,
        {
          id: 'streak_10', icon: 'üåã', name: 'Peatamatu!', desc: '10 √µiget vastust j√§rjest', check: () => GAME.bestStreak >= 10
        }

          ,
        {
          id: 'theory_reader', icon: 'üìñ', name: 'Raamatukass', desc: 'Ava k√µik 4 teooriaosa', check: () => GAME.theoriesOpened >= 4
        }

          ,
        {
          id: 'level_3', icon: 'üò∏', name: 'Tark kass', desc: 'J√µua tasemele 3', check: () => GAME.level >= 3
        }

          ,
        {
          id: 'level_5', icon: 'üéì', name: 'Professor', desc: 'J√µua tasemele 5', check: () => GAME.level >= 5
        }

          ,
        ];

        function addXP(amount, sourceEl) {
          GAME.xp += amount;
          updateLevel();
          updateGameUI();
          showXPPopup(amount, sourceEl);
          checkAchievements();
        }

        function updateLevel() {
          let newLevel = 1;

          for (let i = LEVELS.length - 1; i >= 0; i--) {
            if (GAME.xp >= LEVELS[i].xp) {
              newLevel = i + 1;
              break;
            }
          }

          if (newLevel > GAME.level) {
            GAME.level = newLevel;
            showLevelUp(LEVELS[newLevel - 1]);
          }

          GAME.level = newLevel;
        }

        function updateGameUI() {
          document.getElementById('xp-value').textContent = GAME.xp;
          document.getElementById('level-value').textContent = GAME.level;
          document.getElementById('streak-value').textContent = GAME.streak;

          if (GAME.streak >= 3) {
            document.getElementById('streak-value').innerHTML = GAME.streak + ' <span class="streak-fire">üî•</span>';
          }

          const lvl = LEVELS[GAME.level - 1];
          const nextLvl = LEVELS[GAME.level] || null;
          const titleEl = document.getElementById('level-title');
          titleEl.innerHTML = '<span class="level-cat">' + lvl.cat + '</span> ' + lvl.name;

          if (nextLvl) {
            const progress = (GAME.xp - lvl.xp) / (nextLvl.xp - lvl.xp) * 100;
            document.getElementById('xp-bar-fill').style.width = Math.min(progress, 100) + '%';
            document.getElementById('xp-current-label').textContent = GAME.xp + ' XP';
            document.getElementById('xp-next-label').textContent = 'J√§rgmine tase: ' + nextLvl.xp + ' XP';
          }

          else {
            document.getElementById('xp-bar-fill').style.width = '100%';
            document.getElementById('xp-current-label').textContent = GAME.xp + ' XP';
            document.getElementById('xp-next-label').textContent = 'MAX TASE!';
          }
        }

        function showXPPopup(amount, el) {
          const popup = document.createElement('div');
          popup.className = 'xp-popup';
          let text = '+' + amount + ' XP';
          if (GAME.streak >= 3) text += ' üî•';
          popup.textContent = text;

          if (el) {
            const rect = el.getBoundingClientRect();
            popup.style.left = rect.left + rect.width / 2 + 'px';
            popup.style.top = rect.top + 'px';
          }

          else {
            popup.style.left = '50%';
            popup.style.top = '120px';
          }

          document.body.appendChild(popup);
          setTimeout(() => popup.remove(), 1300);
        }

        function showLevelUp(lvlData) {
          const overlay = document.createElement('div');
          overlay.className = 'level-up-overlay';
          overlay.innerHTML = '<div class="level-up-card"><div class="lu-cat">' + lvlData.cat + '</div><div class="lu-title">Tase t√µusis!</div><div class="lu-subtitle">Sa oled n√º√ºd: ' + lvlData.name + '</div></div>';
          document.body.appendChild(overlay);
          launchConfetti();
          setTimeout(() => overlay.remove(), 3500);
        }

        function checkAchievements() {
          ACHIEVEMENTS.forEach(a => {
            if (!GAME.achievements[a.id] && a.check()) {
              GAME.achievements[a.id] = true;
              showAchievementUnlock(a);
              renderAchievements();
              addXP(25, null); // Saavutuse eest bonus XP
            }
          });
        }

        function showAchievementUnlock(achievement) {
          const el = document.getElementById('ach-' + achievement.id);

          if (el) {
            el.classList.remove('locked');
            el.classList.add('unlocked');
            el.style.animation = 'none';
            setTimeout(() => el.style.animation = 'achieveUnlock 0.6s ease-out', 10);
          }
        }

        function renderAchievements() {
          const grid = document.getElementById('achievements-grid');
          grid.innerHTML = '';

          ACHIEVEMENTS.forEach(a => {
            const div = document.createElement('div');
            const unlocked = ! !GAME.achievements[a.id];
            div.className = 'achievement ' + (unlocked ? 'unlocked' : 'locked');
            div.id = 'ach-' + a.id;
            div.innerHTML = '<span class="ach-icon">' + (unlocked ? a.icon : 'üîí') + '</span><span class="ach-name">' + a.name + '</span><span class="ach-tooltip">' + a.desc + '</span>';
            grid.appendChild(div);
          });
        }

        // √úlesannete XP ‚Äî √ºhenda checkboxidega
        document.querySelectorAll('.done-check input').forEach(cb => {
          cb.addEventListener('change', function () {
            if (this.checked) {
              GAME.exercisesDone++;
              const baseXP = 20;
              const streakBonus = GAME.streak >= 3 ? Math.floor(GAME.streak * 2) : 0;
              addXP(baseXP + streakBonus, this.closest('.exercise'));
            }

            else {
              GAME.exercisesDone = Math.max(0, GAME.exercisesDone - 1);
            }

            checkAchievements();
          });
        });

        // Viktoriinil XP ‚Äî patchime checkAnswer uuesti
        const _origCheck = checkAnswer;

        checkAnswer = function (opt, isCorrect) {
          _origCheck(opt, isCorrect);
          GAME.quizTotal++;

          if (isCorrect) {
            GAME.quizCorrect++;
            GAME.streak++;
            if (GAME.streak > GAME.bestStreak) GAME.bestStreak = GAME.streak;
            const baseXP = 15;
            const streakBonus = GAME.streak >= 3 ? GAME.streak * 3 : 0;
            addXP(baseXP + streakBonus, opt);
          }

          else {
            GAME.streak = 0;
          }

          updateGameUI();
          checkAchievements();
        }

          ;

        // Teooria avamise j√§lgimine
        const _origTheory = toggleTheory;
        const theoriesTracked = new Set();

        toggleTheory = function (btn) {
          _origTheory(btn);
          const block = btn.closest('.theory-card');
          const blockId = block.closest('.section').id;

          if (!theoriesTracked.has(blockId) && btn.classList.contains('open')) {
            theoriesTracked.add(blockId);
            GAME.theoriesOpened++;
            addXP(10, btn);
            checkAchievements();
          }
        }

          ;

        // Vihjete j√§lgimine
        document.querySelectorAll('.hint').forEach(h => {
          h.addEventListener('click', function () {
            if (!this.classList.contains('revealed')) {
              GAME.hintsUsed++;
            }
          });
        });

        // Initsialiseerimine
        renderAchievements();
        updateGameUI();

        // ===== KASSI-FUNKTSIOONID =====

        // Kassi julgustuss√µnumid
        const catMessages = [{
          face: 'üò∫', msg: 'Sa oled tark nagu kass, kes leiab alati toidu √ºles!'
        }

          ,
        {
          face: 'üò∏', msg: 'Iga lahendatud √ºlesanne on nagu uus kala kaussis!'
        }

          ,
        {
          face: 'üòª', msg: 'Matemaatika on nagu kassi m√ºristamine ‚Äî mida rohkem harjutad, seda parem!'
        }

          ,
        {
          face: 'üôÄ', msg: '√Ñrra karda rasket √ºlesannet ‚Äî kassid maanduvad alati jalgadele!'
        }

          ,
        {
          face: 'üò∫', msg: 'Tead sa, et kassidel on 32 lihast igas k√µrvas? Matemaatika n√µuab ka h√§id lihaseid!'
        }

          ,
        {
          face: 'üò∏', msg: 'Proovi uuesti! Kassid ei j√§√§ kunagi esimesel katsel kinni!'
        }

          ,
        {
          face: 'üòΩ', msg: 'Suurep√§rane t√∂√∂! Siin on sulle virtuaalne kassi pai!'
        }

          ,
        {
          face: 'üò∫', msg: 'Matemaatika on m√§ng ‚Äî ja kassid armastavad m√§ngida!'
        }

          ,
        {
          face: 'üê±', msg: 'Kas teadsid, et kassid suudavad h√ºpata 6√ó oma pikkust? Sina suudad ka k√µrgele h√ºpata!'
        }

          ,
        {
          face: 'üò∏', msg: 'Murdude taandamine on nagu kassi pesemise rituaal ‚Äî puhtaks peab saama!'
        }

          ,
        {
          face: 'üò∫', msg: 'Geomeetria on igal pool ‚Äî isegi kassi k√µrvad on kolmnurgad!'
        }

          ,
        {
          face: 'üê±', msg: 'Protsendid on nagu kassi uneaeg ‚Äî 70% p√§evast magavad!'
        }

          ,
        ];
        let catMsgIndex = 0;

        function changeCatMessage() {
          catMsgIndex = (catMsgIndex + 1) % catMessages.length;
          const cm = catMessages[catMsgIndex];
          document.getElementById('cat-msg').textContent = cm.msg;
          const face = document.querySelector('.cat-helper .cat-face-img');
          // face.textContent = cm.face;
          face.style.animation = 'none';

          setTimeout(() => {
            face.style.animation = 'celebrate 0.6s ease-in-out, bounce 2.5s ease-in-out infinite 0.6s';
          }

            , 10);
        }

        // Kassi silitamine p√§ises
        const petPhrases = ['Mj√§u! üòª',
          'Purr-r-r! üò∏',
          'Nurr-nurr! üò∫',
          '*m√ºristab* üê±',
          'Mj√§√§√§u! üòΩ',
          '*h√ºppab r√µ√µmust* üôÄ'];
        let petIndex = 0;

        function petCat(el) {
          el.style.animation = 'none';

          setTimeout(() => {
            el.style.animation = 'celebrate 0.6s ease-in-out, bounce 2s ease-in-out infinite 0.6s';
          }

            , 10);
          // N√§ita s√µnumimulli
          let bubble = document.getElementById('pet-bubble');

          if (!bubble) {
            bubble = document.createElement('div');
            bubble.id = 'pet-bubble';
            bubble.style.cssText = 'position:absolute;top:-10px;left:50%;transform:translateX(-50%);background:white;padding:6px 14px;border-radius:12px;font-size:0.85rem;box-shadow:0 4px 12px rgba(0,0,0,0.1);border:1px solid #e2e8f0;white-space:nowrap;z-index:10;transition:opacity 0.3s;';
            el.parentElement.style.position = 'relative';
            el.parentElement.appendChild(bubble);
          }

          bubble.textContent = petPhrases[petIndex];
          bubble.style.opacity = '1';
          petIndex = (petIndex + 1) % petPhrases.length;

          setTimeout(() => {
            bubble.style.opacity = '0';
          }

            , 2000);
        }

        // K√§paj√§ljed progressis
        function updatePawTrail(done, total) {
          const trail = document.getElementById('paw-trail');
          trail.innerHTML = '';

          for (let i = 0; i < total; i++) {
            const paw = document.createElement('span');
            paw.className = 'paw-step' + (i < done ? ' active' : '');
            paw.textContent = 'üêæ';
            if (i < done) paw.style.animationDelay = (i * 0.1) + 's';
            trail.appendChild(paw);
          }

          // Kassi progress-s√µnum
          const msgEl = document.getElementById('cat-progress-msg');
          const pct = Math.round(done / total * 100);
          if (done === 0) msgEl.textContent = 'üò∫ Alusta √ºlesannetega ‚Äî Matemaatikakass ootab!';
          else if (pct < 30) msgEl.textContent = 'üê± Hea algus! J√§tka samas vaimus!';
          else if (pct < 60) msgEl.textContent = 'üò∏ Tubli! √úle poole veel minna!';
          else if (pct < 100) msgEl.textContent = 'üòª Suurep√§rane! L√µpp on juba n√§ha!';
          else msgEl.textContent = 'üéâüò∫üéâ K√ïIK TEHTUD! Matemaatikakass on uhke!';
        }

        // Uuenda algne updateProgress, et lisada k√§paj√§ljed
        const origUpdateProgress = updateProgress;

        updateProgress = function () {
          const total = document.querySelectorAll('.done-check input').length;
          const done = document.querySelectorAll('.done-check input:checked').length;
          document.getElementById('progress-text').textContent = done + ' / ' + total;
          document.getElementById('progress-fill').style.width = (done / total * 100) + '%';
          updatePawTrail(done, total);
          if (done === total && done > 0) launchConfetti();
        }

          ;

        // Konfetid!
        function launchConfetti() {
          const container = document.getElementById('confetti-container');
          container.innerHTML = '';
          const colors = ['#2563eb',
            '#059669',
            '#d97706',
            '#7c3aed',
            '#e11d48',
            '#f59e0b',
            '#10b981'];
          const emojis = ['üê±',
            'üò∫',
            'üêæ',
            '‚≠ê',
            'üéâ',
            '‚ú®'];

          for (let i = 0; i < 50; i++) {
            const el = document.createElement('div');
            const isEmoji = Math.random() > 0.5;

            if (isEmoji) {
              el.textContent = emojis[Math.floor(Math.random() * emojis.length)];
              el.style.cssText = `position:absolute;left:${Math.random() * 100}%;top:-20px;font-size:${12 + Math.random() * 16}px;animation:confettiFall ${2 + Math.random() * 3}s ease-in ${Math.random() * 2}s forwards;`;
            }

            else {
              el.className = 'confetti';
              el.style.left = Math.random() * 100 + '%';
              el.style.background = colors[Math.floor(Math.random() * colors.length)];
              el.style.animationDelay = Math.random() * 2 + 's';
              el.style.animationDuration = (2 + Math.random() * 3) + 's';
              el.style.width = (6 + Math.random() * 8) + 'px';
              el.style.height = (6 + Math.random() * 8) + 'px';
            }

            container.appendChild(el);
          }

          setTimeout(() => {
            container.innerHTML = '';
          }

            , 6000);
        }

        // Kassi-reaktsioon viktoriinil
        const origCheckAnswer = checkAnswer;

        checkAnswer = function (opt, isCorrect) {
          origCheckAnswer(opt, isCorrect);
          // Lisa kassi-reaktsioon
          const q = opt.closest('.quiz-q');

          if (!q.querySelector('.cat-reaction')) {
            const reaction = document.createElement('div');
            reaction.className = 'cat-reaction show';

            if (isCorrect) {
              reaction.innerHTML = 'üò∏<div class="cat-text">√ïige! Tubli kass!</div>';
            }

            else {
              reaction.innerHTML = 'üôÄ<div class="cat-text">Proovi uuesti ‚Äî kassid ei anna alla!</div>';
            }

            q.appendChild(reaction);
          }
        }

          ;

        // Algne k√§paj√§lgede init
        updatePawTrail(0, document.querySelectorAll('.done-check input').length);

        // Kassiabilise s√µnumite automaatne vahetus iga 30 sek
        setInterval(() => {
          const helper = document.getElementById('cat-helper');

          if (helper && helper.style.display !== 'none') {
            catMsgIndex = (catMsgIndex + 1) % catMessages.length;
            const cm = catMessages[catMsgIndex];
            document.getElementById('cat-msg').textContent = cm.msg;
            // document.querySelector('.cat-helper .cat-face-img').textContent = cm.face;
          }
        }

          , 30000);
      </script>
</body>

</html>